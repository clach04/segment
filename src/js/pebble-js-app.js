!function(){function t(t){this.message=t}var r="undefined"!=typeof exports?exports:this,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",r.btoa||(r.btoa=function(r){for(var o,n,a=String(r),i=0,c=e,d="";a.charAt(0|i)||(c="=",i%1);d+=c.charAt(63&o>>8-i%1*8)){if(n=a.charCodeAt(i+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return d}),r.atob||(r.atob=function(r){var o=String(r).replace(/=+$/,"");if(o.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,i=0,c=0,d="";a=o.charAt(c++);~a&&(n=i%4?64*n+a:a,i++%4)?d+=String.fromCharCode(255&n>>(-2*i&6)):0)a=e.indexOf(a);return d})}();
'use strict';

function utf8ToB64(str) {
  return encodeURIComponent(window.btoa(str));
}

function b64ToUtf8(str) {
  return window.atob(decodeURIComponent(str));
}

Pebble.addEventListener('ready', function(e) {
  console.log('JavaScript app ready and running!');
});

Pebble.addEventListener('showConfiguration', function(e) {
  var settings;
  try {
    settings = JSON.parse(localStorage.getItem('settings')) || {};
  } catch (e) {
    console.log(e);
    settings = {};
  }
  // Show config page
  var html = 'data:text/html;base64,PCFET0NUWVBFIGh0bWw%2BCjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KICAgIDxzdHlsZT4KQGZvbnQtZmFjZXtmb250LWZhbWlseTonUEZEaW5EaXNwbGF5UHJvTGlnaHRXZWJmb250JztzcmM6dXJsKCIuLi9mb250cy9QRkRpbkRpc3BsYXlQcm8tTGlnaHQud29mZiIpIGZvcm1hdCgid29mZiIpO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsfUBmb250LWZhY2V7Zm9udC1mYW1pbHk6J1BUU2Fuc1JlZ3VsYXJXZWJmb250JztzcmM6dXJsKCIuLi9mb250cy9QVFNhbnMtcmVndWxhci53b2ZmIikgZm9ybWF0KCJ3b2ZmIik7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWx9KnttYXJnaW46MDtwYWRkaW5nOjB9Kjpmb2N1c3tvdXRsaW5lLXdpZHRoOjB9YXtjb2xvcjojZmY0NzAwO3RleHQtZGVjb3JhdGlvbjpub25lfWJvZHl7YmFja2dyb3VuZC1jb2xvcjojZWFlYWVhO21hcmdpbi1ib3R0b206MTVweDtmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS40ZW07LXdlYmtpdC11c2VyLXNlbGVjdDpub25lICFpbXBvcnRhbnQ7LW1vei11c2VyLXNlbGVjdDpub25lICFpbXBvcnRhbnQ7LW1zLXVzZXItc2VsZWN0Om5vbmUgIWltcG9ydGFudDt1c2VyLXNlbGVjdDpub25lICFpbXBvcnRhbnR9Ym9keSxzZWxlY3QsaW5wdXRbdHlwZT10ZXh0XSxpbnB1dFt0eXBlPXRpbWVdLGlucHV0W3R5cGU9ZGF0ZV17Zm9udC1mYW1pbHk6J1BGRGluRGlzcGxheVByby1MaWdodCcsUEZEaW5EaXNwbGF5UHJvTGlnaHRXZWJmb250LHNhbnMtc2VyaWY7Zm9udC13ZWlnaHQ6bm9ybWFsfXNlbGVjdCxpbnB1dFt0eXBlPXRpbWVdLGlucHV0W3R5cGU9ZGF0ZV17LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7LW1zLWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7Ym9yZGVyOjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEzcHg7Y29sb3I6I2E4YThhODtmb250LXNpemU6MWVtO2xpbmUtaGVpZ2h0OjFlbTtiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjd9aW5wdXRbdHlwZT1kYXRlXXtkaXJlY3Rpb246cnRsfXNlbGVjdHtyaWdodDozMHB4O3RvcDoxNHB4fWlucHV0W3R5cGU9dGltZV17cmlnaHQ6MTBweCAhaW1wb3J0YW50fWlucHV0W3R5cGU9ZGF0ZV17cmlnaHQ6MTBweCAhaW1wb3J0YW50fS5zZWxlY3QtdHJpYW5nbGV7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTBweDt0b3A6MjBweDt3aWR0aDowO2hlaWdodDowO2JvcmRlci1sZWZ0OjdweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItcmlnaHQ6N3B4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6N3B4IHNvbGlkICNmZjQ3MDB9Lml0ZW0tY29udGFpbmVye2NvbG9yOiMzMzM7bWFyZ2luLXRvcDoxNXB4fS5pdGVtLWNvbnRhaW5lci1oZWFkZXJ7cGFkZGluZzozcHggMTBweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1mYW1pbHk6J1BUIFNhbnMnLFBUU2Fuc1JlZ3VsYXJXZWJmb250LHNhbnMtc2VyaWY7Zm9udC1zaXplOi44ZW07Zm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiNhOGE4YTh9Lml0ZW0tY29udGFpbmVyLWNvbnRlbnR7YmFja2dyb3VuZC1jb2xvcjojZjdmN2Y3O2JvcmRlci10b3A6MXB4IHNvbGlkICNkZWRlZGU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2RlZGVkZX0uaXRlbS1jb250YWluZXItZm9vdGVye3BhZGRpbmc6M3B4IDEwcHg7Zm9udC1zaXplOi43ZW07bGluZS1oZWlnaHQ6MS40ZW07Y29sb3I6I2E4YThhOH0uaXRlbXtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjEwcHg7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW59Lml0ZW06bm90KDpmaXJzdC1jaGlsZCl7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RlZGVkZX0uaXRlbS1zdWJ0aXRsZS13cmFwcGVye2ZvbnQtc2l6ZToxZW19Lml0ZW0tc3VidGl0bGUtd3JhcHBlciAuaXRlbS1zdHlsZWQtdG9nZ2xlLXdyYXBwZXJ7dG9wOjE2cHh9Lml0ZW0tc3VidGl0bGUtd3JhcHBlciAuaXRlbS1zdHlsZWQtY2hlY2tib3h7dG9wOjE4cHh9Lml0ZW0tc3VidGl0bGUtd3JhcHBlciAuaXRlbS1zdHlsZWQtcmFkaW97dG9wOjE2cHh9Lml0ZW0tc3VidGl0bGUtd3JhcHBlciAuaXRlbS1kcmFnZ2FibGUtaGFuZGxle3RvcDoxOHB4fS5pdGVtLXN1YnRpdGxle2ZvbnQtc2l6ZTouN2VtO2xpbmUtaGVpZ2h0Oi43ZW07cGFkZGluZzouM2VtIDB9Lml0ZW0tc3R5bGVkLXRvZ2dsZS13cmFwcGVye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOjhweDt3aWR0aDo1NnB4O2hlaWdodDozMHB4O2JvcmRlci1yYWRpdXM6NXB4O3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0O3RyYW5zaXRpb24tZHVyYXRpb246LjNzO3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvcn0uaXRlbS1zdHlsZWQtdG9nZ2xle3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQtY29sb3I6I2ZmZjt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O2JvcmRlci1yYWRpdXM6NXB4O3RvcDoxcHg7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbi1kdXJhdGlvbjouM3M7dHJhbnNpdGlvbi1wcm9wZXJ0eTpsZWZ0fS5pdGVtLXRvZ2dsZXtkaXNwbGF5Om5vbmV9Lml0ZW0tdG9nZ2xlKy5pdGVtLXN0eWxlZC10b2dnbGUtd3JhcHBlcntiYWNrZ3JvdW5kLWNvbG9yOiNhOGE4YTh9Lml0ZW0tdG9nZ2xlOmNoZWNrZWQrLml0ZW0tc3R5bGVkLXRvZ2dsZS13cmFwcGVye2JhY2tncm91bmQtY29sb3I6I2ZmNDcwMH0uaXRlbS10b2dnbGUrLml0ZW0tc3R5bGVkLXRvZ2dsZS13cmFwcGVyIC5pdGVtLXN0eWxlZC10b2dnbGV7bGVmdDoxcHh9Lml0ZW0tdG9nZ2xlOmNoZWNrZWQrLml0ZW0tc3R5bGVkLXRvZ2dsZS13cmFwcGVyIC5pdGVtLXN0eWxlZC10b2dnbGV7bGVmdDoyN3B4fS5pdGVtLXN0eWxlZC10b2dnbGUtYmFye3dpZHRoOjNweDtoZWlnaHQ6MTVweDttYXJnaW4tbGVmdDozcHg7YmFja2dyb3VuZC1jb2xvcjojZWFlYWVhO2Zsb2F0OmxlZnQ7cG9zaXRpb246cmVsYXRpdmU7bGVmdDo0cHg7dG9wOjdweH0uaXRlbS1zdHlsZWQtY2hlY2tib3h7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTBweDt0b3A6MTBweDt3aWR0aDoyMXB4O2hlaWdodDoyMXB4O2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlci13aWR0aDoycHg7Ym9yZGVyLXN0eWxlOnNvbGlkfS5pdGVtLWNoZWNrYm94e2Rpc3BsYXk6bm9uZX0uaXRlbS1jaGVja2JveCsuaXRlbS1zdHlsZWQtY2hlY2tib3h7Ym9yZGVyLWNvbG9yOiNkZWRlZGV9Lml0ZW0tY2hlY2tib3g6Y2hlY2tlZCsuaXRlbS1zdHlsZWQtY2hlY2tib3h7Ym9yZGVyLWNvbG9yOiNmZjQ3MDA7YmFja2dyb3VuZC1jb2xvcjojZmY0NzAwfS5pdGVtLWNoZWNrYm94OmNoZWNrZWQrLml0ZW0tc3R5bGVkLWNoZWNrYm94OmJlZm9yZXtjb250ZW50OiIiO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7bGVmdDo3cHg7d2lkdGg6NnB4O2hlaWdodDoxNHB4O2JvcmRlci1jb2xvcjojZjdmN2Y3O2JvcmRlci13aWR0aDowIDJweCAycHggMDtib3JkZXItc3R5bGU6c29saWQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTstbW96LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTstby10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uaXRlbS1zdHlsZWQtcmFkaW97cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTBweDt0b3A6MTBweDt3aWR0aDoyMXB4O2hlaWdodDoyMXB4O2JvcmRlci1yYWRpdXM6MTJweDtib3JkZXItd2lkdGg6MnB4O2JvcmRlci1zdHlsZTpzb2xpZH0uaXRlbS1yYWRpb3tkaXNwbGF5Om5vbmV9Lml0ZW0tcmFkaW8rLml0ZW0tc3R5bGVkLXJhZGlve2JvcmRlci1jb2xvcjojZGVkZWRlfS5pdGVtLXJhZGlvOmNoZWNrZWQrLml0ZW0tc3R5bGVkLXJhZGlve2JvcmRlci1jb2xvcjojZmY0NzAwO2JhY2tncm91bmQtY29sb3I6I2ZmNDcwMH0uaXRlbS1yYWRpbzpjaGVja2VkKy5pdGVtLXN0eWxlZC1yYWRpbzpiZWZvcmV7Y29udGVudDoiIjtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxcHg7bGVmdDo2cHg7d2lkdGg6NnB4O2hlaWdodDoxNHB4O2JvcmRlci1jb2xvcjojZjdmN2Y3O2JvcmRlci13aWR0aDowIDJweCAycHggMDtib3JkZXItc3R5bGU6c29saWQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTstbW96LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTstby10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uaXRlbS1jb2xvcntkaXNwbGF5Om5vbmV9Lml0ZW0tc3R5bGVkLWNvbG9ye2JhY2tncm91bmQ6I2Y3ZjdmN30uaXRlbS1zdHlsZWQtY29sb3IgLnZhbHVle3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOjEwcHg7d2lkdGg6NTZweDtoZWlnaHQ6MzBweDtib3JkZXItcmFkaXVzOjVweDtib3JkZXItY29sb3I6I2E4YThhODtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZH0uaXRlbS1zdHlsZWQtY29sb3IgLmNvbG9yLWJveC13cmFwe2Rpc3BsYXk6bm9uZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjA7d2lkdGg6MTAwJTtwYWRkaW5nOjAgMCAxMDAlIDA7bWFyZ2luOi42ZW0gMCAwfS5pdGVtLXN0eWxlZC1jb2xvciAuY29sb3ItYm94LXdyYXAuc2hvd3tkaXNwbGF5OmJsb2NrfS5pdGVtLXN0eWxlZC1jb2xvciAuY29sb3ItYm94LXdyYXAgLmNvbG9yLWJveC1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0Ojk5Ljk3JTt3aWR0aDoxMDAlO2xlZnQ6MDt0b3A6MH0uaXRlbS1zdHlsZWQtY29sb3IgLmNvbG9yLWJveC13cmFwIC5jb2xvci1ib3gtY29udGFpbmVyIC5jb2xvci1ib3h7ZmxvYXQ6bGVmdDtjdXJzb3I6cG9pbnRlcn0uaXRlbS1zdHlsZWQtY29sb3IgLmNvbG9yLWJveC13cmFwIC5jb2xvci1ib3gtY29udGFpbmVyIC5jb2xvci1ib3gucm91bmRlZC10bHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjVweH0uaXRlbS1zdHlsZWQtY29sb3IgLmNvbG9yLWJveC13cmFwIC5jb2xvci1ib3gtY29udGFpbmVyIC5jb2xvci1ib3gucm91bmRlZC10cntib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo1cHh9Lml0ZW0tc3R5bGVkLWNvbG9yIC5jb2xvci1ib3gtd3JhcCAuY29sb3ItYm94LWNvbnRhaW5lciAuY29sb3ItYm94LnJvdW5kZWQtYmx7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo1cHh9Lml0ZW0tc3R5bGVkLWNvbG9yIC5jb2xvci1ib3gtd3JhcCAuY29sb3ItYm94LWNvbnRhaW5lciAuY29sb3ItYm94LnJvdW5kZWQtYnJ7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4fS5pdGVtLWRhdGUsLml0ZW0tdGltZXtwb3NpdGlvbjphYnNvbHV0ZTtjb2xvcjojZjdmN2Y3ICFpbXBvcnRhbnR9Lml0ZW0tc3R5bGVkLWRhdGUsLml0ZW0tc3R5bGVkLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEzcHg7cmlnaHQ6MTBweDtjb2xvcjojYThhOGE4O2ZvbnQtc2l6ZToxZW07bGluZS1oZWlnaHQ6MWVtO2JhY2tncm91bmQtY29sb3I6I2Y3ZjdmN30uaXRlbS1pbnB1dC13cmFwcGVye2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoycHggc29saWQgI2RlZGVkZX0uaXRlbS1pbnB1dC13cmFwcGVyLWJ1dHRvbntib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6NzclfS5pdGVtLWlucHV0e2JvcmRlcjowO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7cGFkZGluZzowIDEwcHggN3B4IDEwcHg7Zm9udC1zaXplOjEzcHg7d2lkdGg6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmJ1dHRvbi1jb250YWluZXJ7dGV4dC1hbGlnbjpjZW50ZXJ9Lml0ZW0tYnV0dG9ue3dpZHRoOjYwJTtoZWlnaHQ6MzVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZjQ3MDA7Ym9yZGVyLXJhZGl1czo1cHg7Y29sb3I6d2hpdGU7Zm9udC1zaXplOi44ZW07Ym9yZGVyOjA7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7LW1zLWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmV9Lml0ZW0taW5wdXQtYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwcHg7dG9wOjlweDt3aWR0aDoyMCV9LnRhYi1idXR0b25ze2Rpc3BsYXk6dGFibGU7d2lkdGg6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dGFibGUtbGF5b3V0OmZpeGVkfS50YWItYnV0dG9ue2Rpc3BsYXk6dGFibGUtY2VsbDtwb3NpdGlvbjpyZWxhdGl2ZTtjb2xvcjojZmY0NzAwO2JvcmRlcjoxcHggc29saWQgI2ZmNDcwMDtib3JkZXItcmlnaHQtd2lkdGg6MDtmb250LXNpemU6MTRweDtwYWRkaW5nOjVweCAwO3RleHQtYWxpZ246Y2VudGVyO3JpZ2h0Oi0xcHh9LnRhYi1idXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLXJpZ2h0LXdpZHRoOjB9LnRhYi1idXR0b246bGFzdC1jaGlsZHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo1cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4O2JvcmRlci1yaWdodC13aWR0aDoxcHh9LnRhYi1idXR0b24uYWN0aXZle2JhY2tncm91bmQtY29sb3I6I2ZmNDcwMDtjb2xvcjojZjdmN2Y3fS5pdGVtLXNsaWRlcntwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6OHB4Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lOy1tcy1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO2hlaWdodDozMHB4O3dpZHRoOjc5JTtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDttYXJnaW4tdG9wOi0xMHB4fS5pdGVtLXNsaWRlcjo6LXdlYmtpdC1zbGlkZXItdGh1bWI6YmVmb3Jle2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjExcHg7bGVmdDotMTAwMXB4O2hlaWdodDoycHg7d2lkdGg6MTAwMHB4O2JhY2tncm91bmQ6I2ZmNDcwMH0uaXRlbS1zbGlkZXI6Oi13ZWJraXQtc2xpZGVyLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lOy1tcy1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDotMTNweDtoZWlnaHQ6MjhweDt3aWR0aDoyOHB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjVweDtib3JkZXI6MnB4IHNvbGlkICNlYWVhZWF9Lml0ZW0tc2xpZGVyOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3toZWlnaHQ6MnB4O2JhY2tncm91bmQtY29sb3I6I2RlZGVkZX0uaXRlbS1zbGlkZXI6Oi13ZWJraXQtc2xpZGVyLXRodW1iOmFmdGVye2NvbnRlbnQ6ImxsbCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0cHg7dG9wOjNweDtoZWlnaHQ6MTJweDt3aWR0aDoxMHB4O2ZvbnQtd2VpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZGVkZWRlO2ZvbnQtc2l6ZToxNnB4O2xldHRlci1zcGFjaW5nOjFweH0uaXRlbS1zbGlkZXItdGV4dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NnB4O3JpZ2h0OjEwcHg7d2lkdGg6MTYlfS5pdGVtLXNsaWRlci10ZXh0IC5pdGVtLWlucHV0e3RleHQtYWxpZ246Y2VudGVyfS5kZWxldGUtaXRlbXt3aWR0aDozMHB4O2hlaWdodDozMHB4O3JpZ2h0OjVweDt0b3A6NXB4O3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1yYWRpdXM6NnB4fS5kZWxldGUtaXRlbTpiZWZvcmUsLmRlbGV0ZS1pdGVtOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjRweDtoZWlnaHQ6MnB4O2JhY2tncm91bmQtY29sb3I6I2E4YThhODtib3JkZXItcmFkaXVzOjJweDt0b3A6MTZweH0uZGVsZXRlLWl0ZW06YmVmb3Jley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LW1vei10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTstbXMtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LW8tdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7bGVmdDozcHh9LmRlbGV0ZS1pdGVtOmFmdGVyey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy1tb3otdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LW8tdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTtyaWdodDozcHh9LmFkZC1pdGVte2NvbG9yOiNmZjQ3MDB9Lml0ZW0tZHJhZ2dhYmxlLWhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo1cHg7dG9wOjEwcHg7aGVpZ2h0OjI4cHg7d2lkdGg6MjhweH0uaXRlbS1kcmFnZ2FibGUtaGFuZGxlLWJhcnttYXJnaW4tdG9wOjVweDtoZWlnaHQ6MnB4O3dpZHRoOjIwcHg7YmFja2dyb3VuZC1jb2xvcjojYThhOGE4O3RleHQtYWxpZ246Y2VudGVyfVtkcmFnZ2FibGU9dHJ1ZV17YmFja2dyb3VuZC1jb2xvcjojZjdmN2Y3O2JvcmRlcjoycHggc29saWQgI2VhZWFlYTtib3JkZXItcmFkaXVzOjJweH0KPC9zdHlsZT4KICAgIDxzdHlsZT4KLmhpZGUgewogIGRpc3BsYXk6bm9uZTsKfQouaXRlbS1zdHlsZWQtY29sb3IgLnZhbHVlIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGhlaWdodDogMjZweDsKfQoKaW5wdXRbdHlwZT0iYnV0dG9uIl06ZGlzYWJsZWQgewogIGJhY2tncm91bmQtY29sb3I6ICNjY2M7Cn0KCiNjYW5jZWwtYnRuIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0Owp9CgojY2FuY2VsLWJ0biwKI3NhdmUtYnRuIHsKICB3aWR0aDogNDUlOwp9Cgo8L3N0eWxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxmb3JtIGlkPSJtYWluLWZvcm0iPgogICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lciI%2BCiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXItaGVhZGVyIj48aDE%2BU2VnbWVudDwvaDE%2BPC9kaXY%2BCiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXItZm9vdGVyIj4KICAgICAgICAgIEJ5IEtlZWdhbiBMaWxsbyAtIDxhIGhyZWY9Imh0dHA6Ly9saWxsby5tZSIgdGFyZ2V0PSJfYmxhbmsiPkxpbGxvLm1lPC9hPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXIgaGlkZSI%2BCiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXItaGVhZGVyIj5QZXJzb25hbGl6ZTwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tY29udGFpbmVyLWNvbnRlbnQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXItY29udGVudCI%2BCiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaXRlbSI%2BCiAgICAgICAgICAgICAgUHJlc2V0CiAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icHJlc2V0LXNlbGVjdCIgbmFtZT0icHJlc2V0IiBjbGFzcz0iaXRlbS1zZWxlY3QiPgogICAgICAgICAgICAgICAgPG9wdGlvbiBpZD0icHJlc2V0LWN1c3RvbSIgY2xhc3M9Iml0ZW0tc2VsZWN0LW9wdGlvbiIgdmFsdWU9IiI%2BLS1DdXN0b20tLTwvb3B0aW9uPgogICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgPC9kaXY%2BCiAgICAgICAgPC9kaXY%2BCiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXIgaGlkZSI%2BCiAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lci1jb250ZW50Ij4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJpdGVtIj4KICAgICAgICAgICAgICBCYWNrZ3JvdW5kCiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJpdGVtLWNvbG9yIGl0ZW0tY29sb3Itc3VubnkiIG5hbWU9ImNvbG9yQmFja2dyb3VuZCIgdmFsdWU9IjB4RkZGRkZGIj4KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJpdGVtIj4KICAgICAgICAgICAgICBIb3VyCiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJpdGVtLWNvbG9yIGl0ZW0tY29sb3Itc3VubnkiIG5hbWU9ImNvbG9ySG91ciIgdmFsdWU9IjB4RkZGRkZGIj4KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJpdGVtIj4KICAgICAgICAgICAgICBMZWZ0IE1pbnV0ZSBEaWdpdAogICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iaXRlbS1jb2xvciBpdGVtLWNvbG9yLXN1bm55IiBuYW1lPSJjb2xvck1pbkxlZnQiIHZhbHVlPSIweEZGRkZGRiI%2BCiAgICAgICAgICAgIDwvbGFiZWw%2BCiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaXRlbSI%2BCiAgICAgICAgICAgICAgUmlnaHQgTWludXRlIERpZ2l0CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJpdGVtLWNvbG9yIGl0ZW0tY29sb3Itc3VubnkiIG5hbWU9ImNvbG9yTWluUmlnaHQiIHZhbHVlPSIweEZGRkZGRiI%2BCiAgICAgICAgICAgIDwvbGFiZWw%2BCiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY%2BCgogICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXIgaGlkZSI%2BCiAgICAgICAgPGRpdiBjbGFzcz0iaXRlbS1jb250YWluZXItaGVhZGVyIj5EaXJlY3QgaW5wdXQ8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lci1jb250ZW50Ij4KICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaXRlbSI%2BCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0taW5wdXQtd3JhcHBlciBpdGVtLWlucHV0LXdyYXBwZXItYnV0dG9uIj4KICAgICAgICAgICAgICA8aW5wdXQgaWQ9ImRpcmVjdC1pbnB1dCIgdHlwZT0idGV4dCIgY2xhc3M9Iml0ZW0taW5wdXQiIG5hbWU9ImRpcmVjdC1pbnB1dCI%2BCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8aW5wdXQgaWQ9ImRpcmVjdC1pbnB1dC1idG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9Iml0ZW0tYnV0dG9uIGl0ZW0taW5wdXQtYnV0dG9uIiB2YWx1ZT0iVXBkYXRlIj4KICAgICAgICAgIDwvbGFiZWw%2BCiAgICAgICAgICA8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lci1mb290ZXIiPgogICAgICAgICAgICBDb3B5IHRoZSBjb250ZW50cyBvZiB0aGlzIGZpZWxkIHRvIHNoYXJlIHlvdXIgY29sb3IgY29tYmluYXRpb24gd2l0aCBhIGZyaWVuZC4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Iml0ZW0tY29udGFpbmVyIGhpZGUiPgogICAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9uLWNvbnRhaW5lciI%2BCiAgICAgICAgICAgIDxpbnB1dCBpZD0iY2FuY2VsLWJ0biIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iaXRlbS1idXR0b24iIHZhbHVlPSJDYW5jZWwiPgogICAgICAgICAgICA8aW5wdXQgaWQ9InNhdmUtYnRuIiB0eXBlPSJidXR0b24iIGNsYXNzPSJpdGVtLWJ1dHRvbiIgdmFsdWU9IlNhdmUiPgogICAgICAgICAgPC9kaXY%2BCiAgICAgICAgPC9kaXY%2BCiAgICAgIDwvZGl2PgogICAgPC9mb3JtPgoKICAgIDxzY3JpcHQ%2BCiFmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlLmV4cG9ydHM%2FbW9kdWxlLmV4cG9ydHM9dCgpOiJ1bmRlZmluZWQiIT10eXBlb2YgUGFja2FnZT9Tb3J0YWJsZT10KCk6d2luZG93LlNvcnRhYmxlPXQoKX0oZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuZWw9dCx0aGlzLm9wdGlvbnM9ZT12KHt9LGUpLHRbUF09dGhpczt2YXIgaT17Z3JvdXA6TWF0aC5yYW5kb20oKSxzb3J0OiEwLGRpc2FibGVkOiExLHN0b3JlOm51bGwsaGFuZGxlOm51bGwsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjMwLHNjcm9sbFNwZWVkOjEwLGRyYWdnYWJsZTovW3VvXWwvaS50ZXN0KHQubm9kZU5hbWUpPyJsaSI6Ij4qIixnaG9zdENsYXNzOiJzb3J0YWJsZS1naG9zdCIsaWdub3JlOiJhLCBpbWciLGZpbHRlcjpudWxsLGFuaW1hdGlvbjowLHNldERhdGE6ZnVuY3Rpb24odCxlKXt0LnNldERhdGEoIlRleHQiLGUudGV4dENvbnRlbnQpfSxkcm9wQnViYmxlOiExLGRyYWdvdmVyQnViYmxlOiExLGRhdGFJZEF0dHI6ImRhdGEtaWQiLGRlbGF5OjB9O2Zvcih2YXIgYSBpbiBpKSEoYSBpbiBlKSYmKGVbYV09aVthXSk7dmFyIG89ZS5ncm91cDtvJiYib2JqZWN0Ij09dHlwZW9mIG98fChvPWUuZ3JvdXA9e25hbWU6b30pLFsicHVsbCIsInB1dCJdLmZvckVhY2goZnVuY3Rpb24odCl7dCBpbiBvfHwob1t0XT0hMCl9KSxlLmdyb3Vwcz0iICIrby5uYW1lKyhvLnB1dC5qb2luPyIgIitvLnB1dC5qb2luKCIgIik6IiIpKyIgIjtmb3IodmFyIHMgaW4gdGhpcykiXyI9PT1zLmNoYXJBdCgwKSYmKHRoaXNbc109bih0aGlzLHRoaXNbc10pKTtyKHQsIm1vdXNlZG93biIsdGhpcy5fb25UYXBTdGFydCkscih0LCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRhcFN0YXJ0KSxyKHQsImRyYWdvdmVyIix0aGlzKSxyKHQsImRyYWdlbnRlciIsdGhpcyksei5wdXNoKHRoaXMuX29uRHJhZ092ZXIpLGUuc3RvcmUmJnRoaXMuc29ydChlLnN0b3JlLmdldCh0aGlzKSl9ZnVuY3Rpb24gZSh0KXtiJiZiLnN0YXRlIT09dCYmKGMoYiwiZGlzcGxheSIsdD8ibm9uZSI6IiIpLCF0JiZiLnN0YXRlJiZ4Lmluc2VydEJlZm9yZShiLGcpLGIuc3RhdGU9dCl9ZnVuY3Rpb24gbih0LGUpe3ZhciBuPSQuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGUuYmluZD9lLmJpbmQuYXBwbHkoZSxbdF0uY29uY2F0KG4pKTpmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsbi5jb25jYXQoJC5jYWxsKGFyZ3VtZW50cykpKX19ZnVuY3Rpb24gaSh0LGUsbil7aWYodCl7bj1ufHxrLGU9ZS5zcGxpdCgiLiIpO3ZhciBpPWUuc2hpZnQoKS50b1VwcGVyQ2FzZSgpLGE9bmV3IFJlZ0V4cCgiXFxzKCIrZS5qb2luKCJ8IikrIilcXHMiLCJnIik7ZG8gaWYoIj4qIj09PWkmJnQucGFyZW50Tm9kZT09PW58fCgiIj09PWl8fHQubm9kZU5hbWUudG9VcHBlckNhc2UoKT09aSkmJighZS5sZW5ndGh8fCgoIiAiK3QuY2xhc3NOYW1lKyIgIikubWF0Y2goYSl8fFtdKS5sZW5ndGg9PWUubGVuZ3RoKSlyZXR1cm4gdDt3aGlsZSh0IT09biYmKHQ9dC5wYXJlbnROb2RlKSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYSh0KXt0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJtb3ZlIix0LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gcih0LGUsbil7dC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSl9ZnVuY3Rpb24gbyh0LGUsbil7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMSl9ZnVuY3Rpb24gcyh0LGUsbil7aWYodClpZih0LmNsYXNzTGlzdCl0LmNsYXNzTGlzdFtuPyJhZGQiOiJyZW1vdmUiXShlKTtlbHNle3ZhciBpPSgiICIrdC5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKE8sIiAiKS5yZXBsYWNlKCIgIitlKyIgIiwiICIpO3QuY2xhc3NOYW1lPShpKyhuPyIgIitlOiIiKSkucmVwbGFjZShPLCIgIil9fWZ1bmN0aW9uIGModCxlLG4pe3ZhciBpPXQmJnQuc3R5bGU7aWYoaSl7aWYodm9pZCAwPT09bilyZXR1cm4gay5kZWZhdWx0VmlldyYmay5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlP249ay5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsIiIpOnQuY3VycmVudFN0eWxlJiYobj10LmN1cnJlbnRTdHlsZSksdm9pZCAwPT09ZT9uOm5bZV07ZSBpbiBpfHwoZT0iLXdlYmtpdC0iK2UpLGlbZV09bisoInN0cmluZyI9PXR5cGVvZiBuPyIiOiJweCIpfX1mdW5jdGlvbiBmKHQsZSxuKXtpZih0KXt2YXIgaT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpLGE9MCxyPWkubGVuZ3RoO2lmKG4pZm9yKDtyPmE7YSsrKW4oaVthXSxhKTtyZXR1cm4gaX1yZXR1cm5bXX1mdW5jdGlvbiBsKHQpe3QuZHJhZ2dhYmxlPSExfWZ1bmN0aW9uIHUoKXtCPSExfWZ1bmN0aW9uIGgodCxlKXt2YXIgbj10Lmxhc3RFbGVtZW50Q2hpbGQsaT1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBlLmNsaWVudFktKGkudG9wK2kuaGVpZ2h0KT41JiZufWZ1bmN0aW9uIGQodCl7Zm9yKHZhciBlPXQudGFnTmFtZSt0LmNsYXNzTmFtZSt0LnNyYyt0LmhyZWYrdC50ZXh0Q29udGVudCxuPWUubGVuZ3RoLGk9MDtuLS07KWkrPWUuY2hhckNvZGVBdChuKTtyZXR1cm4gaS50b1N0cmluZygzNil9ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9MDt0JiYodD10LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpOykiVEVNUExBVEUiIT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpJiZlKys7cmV0dXJuIGV9ZnVuY3Rpb24gbSh0LGUpe3ZhciBuLGk7cmV0dXJuIGZ1bmN0aW9uKCl7dm9pZCAwPT09biYmKG49YXJndW1lbnRzLGk9dGhpcyxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7MT09PW4ubGVuZ3RoP3QuY2FsbChpLG5bMF0pOnQuYXBwbHkoaSxuKSxuPXZvaWQgMH0sZSkpfX1mdW5jdGlvbiB2KHQsZSl7aWYodCYmZSlmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdH12YXIgZyx5LGIseCxBLHcsRixFLEMsUyxULEQsXyxOLGo9e30sTz0vXHMrL2csUD0iU29ydGFibGUiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLEw9d2luZG93LGs9TC5kb2N1bWVudCxSPUwucGFyc2VJbnQsTT0hISgiZHJhZ2dhYmxlImluIGsuY3JlYXRlRWxlbWVudCgiZGl2IikpLEI9ITEsWj1mdW5jdGlvbih0LGUsbixpLGEscixvKXt2YXIgcz1rLmNyZWF0ZUV2ZW50KCJFdmVudCIpLGM9KHR8fGVbUF0pLm9wdGlvbnMsZj0ib24iK24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zdWJzdHIoMSk7cy5pbml0RXZlbnQobiwhMCwhMCkscy5pdGVtPWl8fGUscy5mcm9tPWF8fGUscy5jbG9uZT1iLHMub2xkSW5kZXg9cixzLm5ld0luZGV4PW8sY1tmXSYmY1tmXS5jYWxsKHQscyksZS5kaXNwYXRjaEV2ZW50KHMpfSxJPU1hdGguYWJzLCQ9W10uc2xpY2Usej1bXSxZPW0oZnVuY3Rpb24odCxlLG4pe2lmKG4mJmUuc2Nyb2xsKXt2YXIgaSxhLHIsbyxzPWUuc2Nyb2xsU2Vuc2l0aXZpdHksYz1lLnNjcm9sbFNwZWVkLGY9dC5jbGllbnRYLGw9dC5jbGllbnRZLHU9d2luZG93LmlubmVyV2lkdGgsaD13aW5kb3cuaW5uZXJIZWlnaHQ7aWYoRiE9PW4mJih3PWUuc2Nyb2xsLEY9bix3PT09ITApKXt3PW47ZG8gaWYody5vZmZzZXRXaWR0aDx3LnNjcm9sbFdpZHRofHx3Lm9mZnNldEhlaWdodDx3LnNjcm9sbEhlaWdodClicmVhazt3aGlsZSh3PXcucGFyZW50Tm9kZSl9dyYmKGk9dyxhPXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj0oSShhLnJpZ2h0LWYpPD1zKS0oSShhLmxlZnQtZik8PXMpLG89KEkoYS5ib3R0b20tbCk8PXMpLShJKGEudG9wLWwpPD1zKSkscnx8b3x8KHI9KHM%2BPXUtZiktKHM%2BPWYpLG89KHM%2BPWgtbCktKHM%2BPWwpLChyfHxvKSYmKGk9TCkpLChqLnZ4IT09cnx8ai52eSE9PW98fGouZWwhPT1pKSYmKGouZWw9aSxqLnZ4PXIsai52eT1vLGNsZWFySW50ZXJ2YWwoai5waWQpLGkmJihqLnBpZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2k9PT1MP0wuc2Nyb2xsVG8oTC5wYWdlWE9mZnNldCtyKmMsTC5wYWdlWU9mZnNldCtvKmMpOihvJiYoaS5zY3JvbGxUb3ArPW8qYyksciYmKGkuc2Nyb2xsTGVmdCs9cipjKSl9LDI0KSkpfX0sMzApO3JldHVybiB0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dCxfb25UYXBTdGFydDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5lbCxhPXRoaXMub3B0aW9ucyxyPXQudHlwZSxvPXQudG91Y2hlcyYmdC50b3VjaGVzWzBdLHM9KG98fHQpLnRhcmdldCxjPXMsZj1hLmZpbHRlcjtpZighKCJtb3VzZWRvd24iPT09ciYmMCE9PXQuYnV0dG9ufHxhLmRpc2FibGVkKSYmKHM9aShzLGEuZHJhZ2dhYmxlLG4pKSl7aWYoUz1wKHMpLCJmdW5jdGlvbiI9PXR5cGVvZiBmKXtpZihmLmNhbGwodGhpcyx0LHMsdGhpcykpcmV0dXJuIFooZSxjLCJmaWx0ZXIiLHMsbixTKSx2b2lkIHQucHJldmVudERlZmF1bHQoKX1lbHNlIGlmKGYmJihmPWYuc3BsaXQoIiwiKS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0PWkoYyx0LnRyaW0oKSxuKSx0PyhaKGUsdCwiZmlsdGVyIixzLG4sUyksITApOnZvaWQgMH0pKSlyZXR1cm4gdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7KCFhLmhhbmRsZXx8aShjLGEuaGFuZGxlLG4pKSYmdGhpcy5fcHJlcGFyZURyYWdTdGFydCh0LG8scyl9fSxfcHJlcGFyZURyYWdTdGFydDpmdW5jdGlvbih0LGUsbil7dmFyIGksYT10aGlzLG89YS5lbCxzPWEub3B0aW9ucyxjPW8ub3duZXJEb2N1bWVudDtuJiYhZyYmbi5wYXJlbnROb2RlPT09byYmKF89dCx4PW8sZz1uLEE9Zy5uZXh0U2libGluZyxEPXMuZ3JvdXAsaT1mdW5jdGlvbigpe2EuX2Rpc2FibGVEZWxheWVkRHJhZygpLGcuZHJhZ2dhYmxlPSEwLHMuaWdub3JlLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbih0KXtmKGcsdC50cmltKCksbCl9KSxhLl90cmlnZ2VyRHJhZ1N0YXJ0KGUpfSxyKGMsIm1vdXNldXAiLGEuX29uRHJvcCkscihjLCJ0b3VjaGVuZCIsYS5fb25Ecm9wKSxyKGMsInRvdWNoY2FuY2VsIixhLl9vbkRyb3ApLHMuZGVsYXk%2FKHIoYywibW91c2Vtb3ZlIixhLl9kaXNhYmxlRGVsYXllZERyYWcpLHIoYywidG91Y2htb3ZlIixhLl9kaXNhYmxlRGVsYXllZERyYWcpLGEuX2RyYWdTdGFydFRpbWVyPXNldFRpbWVvdXQoaSxzLmRlbGF5KSk6aSgpKX0sX2Rpc2FibGVEZWxheWVkRHJhZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwub3duZXJEb2N1bWVudDtjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpLG8odCwibW91c2Vtb3ZlIix0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpLG8odCwidG91Y2htb3ZlIix0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpfSxfdHJpZ2dlckRyYWdTdGFydDpmdW5jdGlvbih0KXt0PyhfPXt0YXJnZXQ6ZyxjbGllbnRYOnQuY2xpZW50WCxjbGllbnRZOnQuY2xpZW50WX0sdGhpcy5fb25EcmFnU3RhcnQoXywidG91Y2giKSk6TT8ocihnLCJkcmFnZW5kIix0aGlzKSxyKHgsImRyYWdzdGFydCIsdGhpcy5fb25EcmFnU3RhcnQpKTp0aGlzLl9vbkRyYWdTdGFydChfLCEwKTt0cnl7ay5zZWxlY3Rpb24%2Fay5zZWxlY3Rpb24uZW1wdHkoKTp3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9Y2F0Y2goZSl7fX0sX2RyYWdTdGFydGVkOmZ1bmN0aW9uKCl7eCYmZyYmKHMoZyx0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywhMCksdC5hY3RpdmU9dGhpcyxaKHRoaXMseCwic3RhcnQiLGcseCxTKSl9LF9lbXVsYXRlRHJhZ092ZXI6ZnVuY3Rpb24oKXtpZihOKXtjKHksImRpc3BsYXkiLCJub25lIik7dmFyIHQ9ay5lbGVtZW50RnJvbVBvaW50KE4uY2xpZW50WCxOLmNsaWVudFkpLGU9dCxuPSIgIit0aGlzLm9wdGlvbnMuZ3JvdXAubmFtZSxpPXoubGVuZ3RoO2lmKGUpZG97aWYoZVtQXSYmZVtQXS5vcHRpb25zLmdyb3Vwcy5pbmRleE9mKG4pPi0xKXtmb3IoO2ktLTspeltpXSh7Y2xpZW50WDpOLmNsaWVudFgsY2xpZW50WTpOLmNsaWVudFksdGFyZ2V0OnQscm9vdEVsOmV9KTticmVha310PWV9d2hpbGUoZT1lLnBhcmVudE5vZGUpO2MoeSwiZGlzcGxheSIsIiIpfX0sX29uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe2lmKF8pe3ZhciBlPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dCxuPWUuY2xpZW50WC1fLmNsaWVudFgsaT1lLmNsaWVudFktXy5jbGllbnRZLGE9dC50b3VjaGVzPyJ0cmFuc2xhdGUzZCgiK24rInB4LCIraSsicHgsMCkiOiJ0cmFuc2xhdGUoIituKyJweCwiK2krInB4KSI7Tj1lLGMoeSwid2Via2l0VHJhbnNmb3JtIixhKSxjKHksIm1velRyYW5zZm9ybSIsYSksYyh5LCJtc1RyYW5zZm9ybSIsYSksYyh5LCJ0cmFuc2Zvcm0iLGEpLHQucHJldmVudERlZmF1bHQoKX19LF9vbkRyYWdTdGFydDpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZGF0YVRyYW5zZmVyLGk9dGhpcy5vcHRpb25zO2lmKHRoaXMuX29mZlVwRXZlbnRzKCksImNsb25lIj09RC5wdWxsJiYoYj1nLmNsb25lTm9kZSghMCksYyhiLCJkaXNwbGF5Iiwibm9uZSIpLHguaW5zZXJ0QmVmb3JlKGIsZykpLGUpe3ZhciBhLG89Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPWMoZyk7eT1nLmNsb25lTm9kZSghMCksYyh5LCJ0b3AiLG8udG9wLVIocy5tYXJnaW5Ub3AsMTApKSxjKHksImxlZnQiLG8ubGVmdC1SKHMubWFyZ2luTGVmdCwxMCkpLGMoeSwid2lkdGgiLG8ud2lkdGgpLGMoeSwiaGVpZ2h0IixvLmhlaWdodCksYyh5LCJvcGFjaXR5IiwiMC44IiksYyh5LCJwb3NpdGlvbiIsImZpeGVkIiksYyh5LCJ6SW5kZXgiLCIxMDAwMDAiKSx4LmFwcGVuZENoaWxkKHkpLGE9eS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjKHksIndpZHRoIiwyKm8ud2lkdGgtYS53aWR0aCksYyh5LCJoZWlnaHQiLDIqby5oZWlnaHQtYS5oZWlnaHQpLCJ0b3VjaCI9PT1lPyhyKGssInRvdWNobW92ZSIsdGhpcy5fb25Ub3VjaE1vdmUpLHIoaywidG91Y2hlbmQiLHRoaXMuX29uRHJvcCkscihrLCJ0b3VjaGNhbmNlbCIsdGhpcy5fb25Ecm9wKSk6KHIoaywibW91c2Vtb3ZlIix0aGlzLl9vblRvdWNoTW92ZSkscihrLCJtb3VzZXVwIix0aGlzLl9vbkRyb3ApKSx0aGlzLl9sb29wSWQ9c2V0SW50ZXJ2YWwodGhpcy5fZW11bGF0ZURyYWdPdmVyLDE1MCl9ZWxzZSBuJiYobi5lZmZlY3RBbGxvd2VkPSJtb3ZlIixpLnNldERhdGEmJmkuc2V0RGF0YS5jYWxsKHRoaXMsbixnKSkscihrLCJkcm9wIix0aGlzKTtzZXRUaW1lb3V0KHRoaXMuX2RyYWdTdGFydGVkLDApfSxfb25EcmFnT3ZlcjpmdW5jdGlvbih0KXt2YXIgbixhLHIsbz10aGlzLmVsLHM9dGhpcy5vcHRpb25zLGY9cy5ncm91cCxsPWYucHV0LGQ9RD09PWYscD1zLnNvcnQ7aWYodm9pZCAwIT09dC5wcmV2ZW50RGVmYXVsdCYmKHQucHJldmVudERlZmF1bHQoKSwhcy5kcmFnb3ZlckJ1YmJsZSYmdC5zdG9wUHJvcGFnYXRpb24oKSksRCYmIXMuZGlzYWJsZWQmJihkP3B8fChyPSF4LmNvbnRhaW5zKGcpKTpELnB1bGwmJmwmJihELm5hbWU9PT1mLm5hbWV8fGwuaW5kZXhPZiYmfmwuaW5kZXhPZihELm5hbWUpKSkmJih2b2lkIDA9PT10LnJvb3RFbHx8dC5yb290RWw9PT10aGlzLmVsKSl7aWYoWSh0LHMsdGhpcy5lbCksQilyZXR1cm47aWYobj1pKHQudGFyZ2V0LHMuZHJhZ2dhYmxlLG8pLGE9Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyKXJldHVybiBlKCEwKSx2b2lkKGJ8fEE%2FeC5pbnNlcnRCZWZvcmUoZyxifHxBKTpwfHx4LmFwcGVuZENoaWxkKGcpKTtpZigwPT09by5jaGlsZHJlbi5sZW5ndGh8fG8uY2hpbGRyZW5bMF09PT15fHxvPT09dC50YXJnZXQmJihuPWgobyx0KSkpe2lmKG4pe2lmKG4uYW5pbWF0ZWQpcmV0dXJuO3Y9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1lKGQpLG8uYXBwZW5kQ2hpbGQoZyksdGhpcy5fYW5pbWF0ZShhLGcpLG4mJnRoaXMuX2FuaW1hdGUodixuKX1lbHNlIGlmKG4mJiFuLmFuaW1hdGVkJiZuIT09ZyYmdm9pZCAwIT09bi5wYXJlbnROb2RlW1BdKXtFIT09biYmKEU9bixDPWMobikpO3ZhciBtLHY9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3PXYucmlnaHQtdi5sZWZ0LEY9di5ib3R0b20tdi50b3AsUz0vbGVmdHxyaWdodHxpbmxpbmUvLnRlc3QoQy5jc3NGbG9hdCtDLmRpc3BsYXkpLFQ9bi5vZmZzZXRXaWR0aD5nLm9mZnNldFdpZHRoLF89bi5vZmZzZXRIZWlnaHQ%2BZy5vZmZzZXRIZWlnaHQsTj0oUz8odC5jbGllbnRYLXYubGVmdCkvdzoodC5jbGllbnRZLXYudG9wKS9GKT4uNSxqPW4ubmV4dEVsZW1lbnRTaWJsaW5nO0I9ITAsc2V0VGltZW91dCh1LDMwKSxlKGQpLG09Uz9uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc9PT1nJiYhVHx8TiYmVDpqIT09ZyYmIV98fE4mJl8sbSYmIWo%2Fby5hcHBlbmRDaGlsZChnKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsbT9qOm4pLHRoaXMuX2FuaW1hdGUoYSxnKSx0aGlzLl9hbmltYXRlKHYsbil9fX0sX2FuaW1hdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbnMuYW5pbWF0aW9uO2lmKG4pe3ZhciBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YyhlLCJ0cmFuc2l0aW9uIiwibm9uZSIpLGMoZSwidHJhbnNmb3JtIiwidHJhbnNsYXRlM2QoIisodC5sZWZ0LWkubGVmdCkrInB4LCIrKHQudG9wLWkudG9wKSsicHgsMCkiKSxlLm9mZnNldFdpZHRoLGMoZSwidHJhbnNpdGlvbiIsImFsbCAiK24rIm1zIiksYyhlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUzZCgwLDAsMCkiKSxjbGVhclRpbWVvdXQoZS5hbmltYXRlZCksZS5hbmltYXRlZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhlLCJ0cmFuc2l0aW9uIiwiIiksYyhlLCJ0cmFuc2Zvcm0iLCIiKSxlLmFuaW1hdGVkPSExfSxuKX19LF9vZmZVcEV2ZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWwub3duZXJEb2N1bWVudDtvKGssInRvdWNobW92ZSIsdGhpcy5fb25Ub3VjaE1vdmUpLG8odCwibW91c2V1cCIsdGhpcy5fb25Ecm9wKSxvKHQsInRvdWNoZW5kIix0aGlzLl9vbkRyb3ApLG8odCwidG91Y2hjYW5jZWwiLHRoaXMuX29uRHJvcCl9LF9vbkRyb3A6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5lbCxpPXRoaXMub3B0aW9ucztjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCksY2xlYXJJbnRlcnZhbChqLnBpZCksY2xlYXJUaW1lb3V0KHRoaXMuZHJhZ1N0YXJ0VGltZXIpLG8oaywiZHJvcCIsdGhpcyksbyhrLCJtb3VzZW1vdmUiLHRoaXMuX29uVG91Y2hNb3ZlKSxvKG4sImRyYWdzdGFydCIsdGhpcy5fb25EcmFnU3RhcnQpLHRoaXMuX29mZlVwRXZlbnRzKCksZSYmKGUucHJldmVudERlZmF1bHQoKSwhaS5kcm9wQnViYmxlJiZlLnN0b3BQcm9wYWdhdGlvbigpLHkmJnkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh5KSxnJiYobyhnLCJkcmFnZW5kIix0aGlzKSxsKGcpLHMoZyx0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywhMSkseCE9PWcucGFyZW50Tm9kZT8oVD1wKGcpLFoobnVsbCxnLnBhcmVudE5vZGUsInNvcnQiLGcseCxTLFQpLFoodGhpcyx4LCJzb3J0IixnLHgsUyxUKSxaKG51bGwsZy5wYXJlbnROb2RlLCJhZGQiLGcseCxTLFQpLFoodGhpcyx4LCJyZW1vdmUiLGcseCxTLFQpKTooYiYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGcubmV4dFNpYmxpbmchPT1BJiYoVD1wKGcpLFoodGhpcyx4LCJ1cGRhdGUiLGcseCxTLFQpLFoodGhpcyx4LCJzb3J0IixnLHgsUyxUKSkpLHQuYWN0aXZlJiZaKHRoaXMseCwiZW5kIixnLHgsUyxUKSkseD1nPXk9QT1iPXc9Rj1fPU49RT1DPUQ9dC5hY3RpdmU9bnVsbCx0aGlzLnNhdmUoKSl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZTsiZHJhZ292ZXIiPT09ZXx8ImRyYWdlbnRlciI9PT1lP2cmJih0aGlzLl9vbkRyYWdPdmVyKHQpLGEodCkpOigiZHJvcCI9PT1lfHwiZHJhZ2VuZCI9PT1lKSYmdGhpcy5fb25Ecm9wKHQpfSx0b0FycmF5OmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9W10sbj10aGlzLmVsLmNoaWxkcmVuLGE9MCxyPW4ubGVuZ3RoLG89dGhpcy5vcHRpb25zO3I%2BYTthKyspdD1uW2FdLGkodCxvLmRyYWdnYWJsZSx0aGlzLmVsKSYmZS5wdXNoKHQuZ2V0QXR0cmlidXRlKG8uZGF0YUlkQXR0cil8fGQodCkpO3JldHVybiBlfSxzb3J0OmZ1bmN0aW9uKHQpe3ZhciBlPXt9LG49dGhpcy5lbDt0aGlzLnRvQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uKHQsYSl7dmFyIHI9bi5jaGlsZHJlblthXTtpKHIsdGhpcy5vcHRpb25zLmRyYWdnYWJsZSxuKSYmKGVbdF09cil9LHRoaXMpLHQuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdJiYobi5yZW1vdmVDaGlsZChlW3RdKSxuLmFwcGVuZENoaWxkKGVbdF0pKX0pfSxzYXZlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnN0b3JlO3QmJnQuc2V0KHRoaXMpfSxjbG9zZXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkodCxlfHx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLHRoaXMuZWwpfSxvcHRpb246ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm9wdGlvbnM7cmV0dXJuIHZvaWQgMD09PWU%2Fblt0XTp2b2lkKG5bdF09ZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO3RbUF09bnVsbCxvKHQsIm1vdXNlZG93biIsdGhpcy5fb25UYXBTdGFydCksbyh0LCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRhcFN0YXJ0KSxvKHQsImRyYWdvdmVyIix0aGlzKSxvKHQsImRyYWdlbnRlciIsdGhpcyksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LnF1ZXJ5U2VsZWN0b3JBbGwoIltkcmFnZ2FibGVdIiksZnVuY3Rpb24odCl7dC5yZW1vdmVBdHRyaWJ1dGUoImRyYWdnYWJsZSIpfSksei5zcGxpY2Uoei5pbmRleE9mKHRoaXMuX29uRHJhZ092ZXIpLDEpLHRoaXMuX29uRHJvcCgpLHRoaXMuZWw9dD1udWxsfX0sdC51dGlscz17b246cixvZmY6byxjc3M6YyxmaW5kOmYsYmluZDpuLGlzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISFpKHQsZSx0KX0sZXh0ZW5kOnYsdGhyb3R0bGU6bSxjbG9zZXN0OmksdG9nZ2xlQ2xhc3M6cyxpbmRleDpwfSx0LnZlcnNpb249IjEuMi4wIix0LmNyZWF0ZT1mdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdChlLG4pfSx0fSk7dmFyIFplcHRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gbnVsbD09dD9TdHJpbmcodCk6cVtVLmNhbGwodCldfHwib2JqZWN0In1mdW5jdGlvbiBlKGUpe3JldHVybiJmdW5jdGlvbiI9PXQoZSl9ZnVuY3Rpb24gbih0KXtyZXR1cm4gbnVsbCE9dCYmdD09dC53aW5kb3d9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbnVsbCE9dCYmdC5ub2RlVHlwZT09dC5ET0NVTUVOVF9OT0RFfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIm9iamVjdCI9PXQoZSl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gYSh0KSYmIW4odCkmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09T2JqZWN0LnByb3RvdHlwZX1mdW5jdGlvbiBvKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGh9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gXy5jYWxsKHQsZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXR9KX1mdW5jdGlvbiBjKHQpe3JldHVybiB0Lmxlbmd0aD4wP0YuZm4uY29uY2F0LmFwcGx5KFtdLHQpOnR9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdC5yZXBsYWNlKC86Oi9nLCIvIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZywiJDFfJDIiKS5yZXBsYWNlKC8oW2EtelxkXSkoW0EtWl0pL2csIiQxXyQyIikucmVwbGFjZSgvXy9nLCItIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBsKHQpe3JldHVybiB0IGluIE8%2FT1t0XTpPW3RdPW5ldyBSZWdFeHAoIihefFxccykiK3QrIihcXHN8JCkiKX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBlfHxQW2YodCldP2U6ZSsicHgifWZ1bmN0aW9uIGgodCl7dmFyIGUsbjtyZXR1cm4galt0XXx8KGU9Ti5jcmVhdGVFbGVtZW50KHQpLE4uYm9keS5hcHBlbmRDaGlsZChlKSxuPWdldENvbXB1dGVkU3R5bGUoZSwiIikuZ2V0UHJvcGVydHlWYWx1ZSgiZGlzcGxheSIpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSwibm9uZSI9PW4mJihuPSJibG9jayIpLGpbdF09biksalt0XX1mdW5jdGlvbiBkKHQpe3JldHVybiJjaGlsZHJlbiJpbiB0P0QuY2FsbCh0LmNoaWxkcmVuKTpGLm1hcCh0LmNoaWxkTm9kZXMsZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQubm9kZVR5cGU%2FdDp2b2lkIDB9KX1mdW5jdGlvbiBwKHQsZSxuKXtmb3IodyBpbiBlKW4mJihyKGVbd10pfHxHKGVbd10pKT8ocihlW3ddKSYmIXIodFt3XSkmJih0W3ddPXt9KSxHKGVbd10pJiYhRyh0W3ddKSYmKHRbd109W10pLHAodFt3XSxlW3ddLG4pKTplW3ddIT09QSYmKHRbd109ZVt3XSl9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiBudWxsPT1lP0YodCk6Rih0KS5maWx0ZXIoZSl9ZnVuY3Rpb24gdih0LG4saSxhKXtyZXR1cm4gZShuKT9uLmNhbGwodCxpLGEpOm59ZnVuY3Rpb24gZyh0LGUsbil7bnVsbD09bj90LnJlbW92ZUF0dHJpYnV0ZShlKTp0LnNldEF0dHJpYnV0ZShlLG4pfWZ1bmN0aW9uIHkodCxlKXt2YXIgbj10LmNsYXNzTmFtZXx8IiIsaT1uJiZuLmJhc2VWYWwhPT1BO3JldHVybiBlPT09QT9pP24uYmFzZVZhbDpuOnZvaWQoaT9uLmJhc2VWYWw9ZTp0LmNsYXNzTmFtZT1lKX1mdW5jdGlvbiBiKHQpe3RyeXtyZXR1cm4gdD8idHJ1ZSI9PXR8fCgiZmFsc2UiPT10PyExOiJudWxsIj09dD9udWxsOit0KyIiPT10Pyt0Oi9eW1xbXHtdLy50ZXN0KHQpP0YucGFyc2VKU09OKHQpOnQpOnR9Y2F0Y2goZSl7cmV0dXJuIHR9fWZ1bmN0aW9uIHgodCxlKXtlKHQpO2Zvcih2YXIgbj0wLGk9dC5jaGlsZE5vZGVzLmxlbmd0aDtpPm47bisrKXgodC5jaGlsZE5vZGVzW25dLGUpfXZhciBBLHcsRixFLEMsUyxUPVtdLEQ9VC5zbGljZSxfPVQuZmlsdGVyLE49d2luZG93LmRvY3VtZW50LGo9e30sTz17fSxQPXsiY29sdW1uLWNvdW50IjoxLGNvbHVtbnM6MSwiZm9udC13ZWlnaHQiOjEsImxpbmUtaGVpZ2h0IjoxLG9wYWNpdHk6MSwiei1pbmRleCI6MSx6b29tOjF9LEw9L15ccyo8KFx3K3whKVtePl0qPi8saz0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLFI9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxNPS9eKD86Ym9keXxodG1sKSQvaSxCPS8oW0EtWl0pL2csWj1bInZhbCIsImNzcyIsImh0bWwiLCJ0ZXh0IiwiZGF0YSIsIndpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0Il0sST1bImFmdGVyIiwicHJlcGVuZCIsImJlZm9yZSIsImFwcGVuZCJdLCQ9Ti5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLHo9Ti5jcmVhdGVFbGVtZW50KCJ0ciIpLFk9e3RyOk4uY3JlYXRlRWxlbWVudCgidGJvZHkiKSx0Ym9keTokLHRoZWFkOiQsdGZvb3Q6JCx0ZDp6LHRoOnosIioiOk4uY3JlYXRlRWxlbWVudCgiZGl2Iil9LEg9L2NvbXBsZXRlfGxvYWRlZHxpbnRlcmFjdGl2ZS8sWD0vXltcdy1dKiQvLHE9e30sVT1xLnRvU3RyaW5nLFY9e30sVz1OLmNyZWF0ZUVsZW1lbnQoImRpdiIpLEo9e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0sRz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fTtyZXR1cm4gVi5tYXRjaGVzPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCF0fHwxIT09dC5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgbj10LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3J8fHQub01hdGNoZXNTZWxlY3Rvcnx8dC5tYXRjaGVzU2VsZWN0b3I7aWYobilyZXR1cm4gbi5jYWxsKHQsZSk7dmFyIGksYT10LnBhcmVudE5vZGUscj0hYTtyZXR1cm4gciYmKGE9VykuYXBwZW5kQ2hpbGQodCksaT1%2BVi5xc2EoYSxlKS5pbmRleE9mKHQpLHImJlcucmVtb3ZlQ2hpbGQodCksaX0sQz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8tKyguKT8vZyxmdW5jdGlvbih0LGUpe3JldHVybiBlP2UudG9VcHBlckNhc2UoKToiIn0pfSxTPWZ1bmN0aW9uKHQpe3JldHVybiBfLmNhbGwodCxmdW5jdGlvbihlLG4pe3JldHVybiB0LmluZGV4T2YoZSk9PW59KX0sVi5mcmFnbWVudD1mdW5jdGlvbih0LGUsbil7dmFyIGksYSxvO3JldHVybiBrLnRlc3QodCkmJihpPUYoTi5jcmVhdGVFbGVtZW50KFJlZ0V4cC4kMSkpKSxpfHwodC5yZXBsYWNlJiYodD10LnJlcGxhY2UoUiwiPCQxPjwvJDI%2BIikpLGU9PT1BJiYoZT1MLnRlc3QodCkmJlJlZ0V4cC4kMSksZSBpbiBZfHwoZT0iKiIpLG89WVtlXSxvLmlubmVySFRNTD0iIit0LGk9Ri5lYWNoKEQuY2FsbChvLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKCl7by5yZW1vdmVDaGlsZCh0aGlzKX0pKSxyKG4pJiYoYT1GKGkpLEYuZWFjaChuLGZ1bmN0aW9uKHQsZSl7Wi5pbmRleE9mKHQpPi0xP2FbdF0oZSk6YS5hdHRyKHQsZSl9KSksaX0sVi5aPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8W10sdC5fX3Byb3RvX189Ri5mbix0LnNlbGVjdG9yPWV8fCIiLHR9LFYuaXNaPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVi5afSxWLmluaXQ9ZnVuY3Rpb24odCxuKXt2YXIgaTtpZighdClyZXR1cm4gVi5aKCk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlmKHQ9dC50cmltKCksIjwiPT10WzBdJiZMLnRlc3QodCkpaT1WLmZyYWdtZW50KHQsUmVnRXhwLiQxLG4pLHQ9bnVsbDtlbHNle2lmKG4hPT1BKXJldHVybiBGKG4pLmZpbmQodCk7aT1WLnFzYShOLHQpfWVsc2V7aWYoZSh0KSlyZXR1cm4gRihOKS5yZWFkeSh0KTtpZihWLmlzWih0KSlyZXR1cm4gdDtpZihHKHQpKWk9cyh0KTtlbHNlIGlmKGEodCkpaT1bdF0sdD1udWxsO2Vsc2UgaWYoTC50ZXN0KHQpKWk9Vi5mcmFnbWVudCh0LnRyaW0oKSxSZWdFeHAuJDEsbiksdD1udWxsO2Vsc2V7aWYobiE9PUEpcmV0dXJuIEYobikuZmluZCh0KTtpPVYucXNhKE4sdCl9fXJldHVybiBWLlooaSx0KX0sRj1mdW5jdGlvbih0LGUpe3JldHVybiBWLmluaXQodCxlKX0sRi5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1ELmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJihlPXQsdD1uLnNoaWZ0KCkpLG4uZm9yRWFjaChmdW5jdGlvbihuKXtwKHQsbixlKX0pLHR9LFYucXNhPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT0iIyI9PWVbMF0scj0hYSYmIi4iPT1lWzBdLG89YXx8cj9lLnNsaWNlKDEpOmUscz1YLnRlc3Qobyk7cmV0dXJuIGkodCkmJnMmJmE%2FKG49dC5nZXRFbGVtZW50QnlJZChvKSk%2FW25dOltdOjEhPT10Lm5vZGVUeXBlJiY5IT09dC5ub2RlVHlwZT9bXTpELmNhbGwocyYmIWE%2Fcj90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobyk6dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpfSxGLmNvbnRhaW5zPU4uZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lJiZ0LmNvbnRhaW5zKGUpfTpmdW5jdGlvbih0LGUpe2Zvcig7ZSYmKGU9ZS5wYXJlbnROb2RlKTspaWYoZT09PXQpcmV0dXJuITA7cmV0dXJuITF9LEYudHlwZT10LEYuaXNGdW5jdGlvbj1lLEYuaXNXaW5kb3c9bixGLmlzQXJyYXk9RyxGLmlzUGxhaW5PYmplY3Q9cixGLmlzRW1wdHlPYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH0sRi5pbkFycmF5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVC5pbmRleE9mLmNhbGwoZSx0LG4pfSxGLmNhbWVsQ2FzZT1DLEYudHJpbT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD8iIjpTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbCh0KX0sRi51dWlkPTAsRi5zdXBwb3J0PXt9LEYuZXhwcj17fSxGLm1hcD1mdW5jdGlvbih0LGUpe3ZhciBuLGksYSxyPVtdO2lmKG8odCkpZm9yKGk9MDtpPHQubGVuZ3RoO2krKyluPWUodFtpXSxpKSxudWxsIT1uJiZyLnB1c2gobik7ZWxzZSBmb3IoYSBpbiB0KW49ZSh0W2FdLGEpLG51bGwhPW4mJnIucHVzaChuKTtyZXR1cm4gYyhyKX0sRi5lYWNoPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtpZihvKHQpKXtmb3Iobj0wO248dC5sZW5ndGg7bisrKWlmKGUuY2FsbCh0W25dLG4sdFtuXSk9PT0hMSlyZXR1cm4gdH1lbHNlIGZvcihpIGluIHQpaWYoZS5jYWxsKHRbaV0saSx0W2ldKT09PSExKXJldHVybiB0O3JldHVybiB0fSxGLmdyZXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gXy5jYWxsKHQsZSl9LHdpbmRvdy5KU09OJiYoRi5wYXJzZUpTT049SlNPTi5wYXJzZSksRi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKHQsZSl7cVsiW29iamVjdCAiK2UrIl0iXT1lLnRvTG93ZXJDYXNlKCl9KSxGLmZuPXtmb3JFYWNoOlQuZm9yRWFjaCxyZWR1Y2U6VC5yZWR1Y2UscHVzaDpULnB1c2gsc29ydDpULnNvcnQsaW5kZXhPZjpULmluZGV4T2YsY29uY2F0OlQuY29uY2F0LG1hcDpmdW5jdGlvbih0KXtyZXR1cm4gRihGLm1hcCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIEYoRC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxyZWFkeTpmdW5jdGlvbih0KXtyZXR1cm4gSC50ZXN0KE4ucmVhZHlTdGF0ZSkmJk4uYm9keT90KEYpOk4uYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZnVuY3Rpb24oKXt0KEYpfSwhMSksdGhpc30sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PT09QT9ELmNhbGwodGhpcyk6dGhpc1t0Pj0wP3Q6dCt0aGlzLmxlbmd0aF19LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe251bGwhPXRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9LGVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIFQuZXZlcnkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSkhPT0hMX0pLHRoaXN9LGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gZSh0KT90aGlzLm5vdCh0aGlzLm5vdCh0KSk6RihfLmNhbGwodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gVi5tYXRjaGVzKGUsdCl9KSl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBGKFModGhpcy5jb25jYXQoRih0LGUpKSkpfSxpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZW5ndGg%2BMCYmVi5tYXRjaGVzKHRoaXNbMF0sdCl9LG5vdDpmdW5jdGlvbih0KXt2YXIgbj1bXTtpZihlKHQpJiZ0LmNhbGwhPT1BKXRoaXMuZWFjaChmdW5jdGlvbihlKXt0LmNhbGwodGhpcyxlKXx8bi5wdXNoKHRoaXMpfSk7ZWxzZXt2YXIgaT0ic3RyaW5nIj09dHlwZW9mIHQ%2FdGhpcy5maWx0ZXIodCk6byh0KSYmZSh0Lml0ZW0pP0QuY2FsbCh0KTpGKHQpO3RoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtpLmluZGV4T2YodCk8MCYmbi5wdXNoKHQpfSl9cmV0dXJuIEYobil9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0KT9GLmNvbnRhaW5zKHRoaXMsdCk6Rih0aGlzKS5maW5kKHQpLnNpemUoKX0pfSxlcTpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ%2FdGhpcy5zbGljZSh0KTp0aGlzLnNsaWNlKHQsK3QrMSl9LGZpcnN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1swXTtyZXR1cm4gdCYmIWEodCk%2FdDpGKHQpfSxsYXN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1t0aGlzLmxlbmd0aC0xXTtyZXR1cm4gdCYmIWEodCk%2FdDpGKHQpfSxmaW5kOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztyZXR1cm4gZT10PyJvYmplY3QiPT10eXBlb2YgdD9GKHQpLmZpbHRlcihmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIFQuc29tZS5jYWxsKG4sZnVuY3Rpb24oZSl7cmV0dXJuIEYuY29udGFpbnMoZSx0KX0pfSk6MT09dGhpcy5sZW5ndGg%2FRihWLnFzYSh0aGlzWzBdLHQpKTp0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBWLnFzYSh0aGlzLHQpfSk6RigpfSxjbG9zZXN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1swXSxhPSExO2Zvcigib2JqZWN0Ij09dHlwZW9mIHQmJihhPUYodCkpO24mJiEoYT9hLmluZGV4T2Yobik%2BPTA6Vi5tYXRjaGVzKG4sdCkpOyluPW4hPT1lJiYhaShuKSYmbi5wYXJlbnROb2RlO3JldHVybiBGKG4pfSxwYXJlbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXRoaXM7bi5sZW5ndGg%2BMDspbj1GLm1hcChuLGZ1bmN0aW9uKHQpe3JldHVybih0PXQucGFyZW50Tm9kZSkmJiFpKHQpJiZlLmluZGV4T2YodCk8MD8oZS5wdXNoKHQpLHQpOnZvaWQgMH0pO3JldHVybiBtKGUsdCl9LHBhcmVudDpmdW5jdGlvbih0KXtyZXR1cm4gbShTKHRoaXMucGx1Y2soInBhcmVudE5vZGUiKSksdCl9LGNoaWxkcmVuOmZ1bmN0aW9uKHQpe3JldHVybiBtKHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcyl9KSx0KX0sY29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gRC5jYWxsKHRoaXMuY2hpbGROb2Rlcyl9KX0sc2libGluZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIG0odGhpcy5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gXy5jYWxsKGQoZS5wYXJlbnROb2RlKSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KX0pLHQpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD0iIn0pfSxwbHVjazpmdW5jdGlvbih0KXtyZXR1cm4gRi5tYXAodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpeyJub25lIj09dGhpcy5zdHlsZS5kaXNwbGF5JiYodGhpcy5zdHlsZS5kaXNwbGF5PSIiKSwibm9uZSI9PWdldENvbXB1dGVkU3R5bGUodGhpcywiIikuZ2V0UHJvcGVydHlWYWx1ZSgiZGlzcGxheSIpJiYodGhpcy5zdHlsZS5kaXNwbGF5PWgodGhpcy5ub2RlTmFtZSkpfSl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJlZm9yZSh0KS5yZW1vdmUoKX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbj1lKHQpO2lmKHRoaXNbMF0mJiFuKXZhciBpPUYodCkuZ2V0KDApLGE9aS5wYXJlbnROb2RlfHx0aGlzLmxlbmd0aD4xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Rih0aGlzKS53cmFwQWxsKG4%2FdC5jYWxsKHRoaXMsZSk6YT9pLmNsb25lTm9kZSghMCk6aSl9KX0sd3JhcEFsbDpmdW5jdGlvbih0KXtpZih0aGlzWzBdKXtGKHRoaXNbMF0pLmJlZm9yZSh0PUYodCkpO2Zvcih2YXIgZTsoZT10LmNoaWxkcmVuKCkpLmxlbmd0aDspdD1lLmZpcnN0KCk7Rih0KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbih0KXt2YXIgbj1lKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGk9Rih0aGlzKSxhPWkuY29udGVudHMoKSxyPW4%2FdC5jYWxsKHRoaXMsZSk6dDthLmxlbmd0aD9hLndyYXBBbGwocik6aS5hcHBlbmQocil9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe0YodGhpcykucmVwbGFjZVdpdGgoRih0aGlzKS5jaGlsZHJlbigpKX0pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVOb2RlKCEwKX0pfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpfSx0b2dnbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPUYodGhpcyk7KHQ9PT1BPyJub25lIj09ZS5jc3MoImRpc3BsYXkiKTp0KT9lLnNob3coKTplLmhpZGUoKX0pfSxwcmV2OmZ1bmN0aW9uKHQpe3JldHVybiBGKHRoaXMucGx1Y2soInByZXZpb3VzRWxlbWVudFNpYmxpbmciKSkuZmlsdGVyKHR8fCIqIil9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIEYodGhpcy5wbHVjaygibmV4dEVsZW1lbnRTaWJsaW5nIikpLmZpbHRlcih0fHwiKiIpfSxodG1sOmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5pbm5lckhUTUw7Rih0aGlzKS5lbXB0eSgpLmFwcGVuZCh2KHRoaXMsdCxlLG4pKX0pOjAgaW4gdGhpcz90aGlzWzBdLmlubmVySFRNTDpudWxsfSx0ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIG49dih0aGlzLHQsZSx0aGlzLnRleHRDb250ZW50KTt0aGlzLnRleHRDb250ZW50PW51bGw9PW4%2FIiI6IiIrbn0pOjAgaW4gdGhpcz90aGlzWzBdLnRleHRDb250ZW50Om51bGx9LGF0dHI6ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fDEgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZSlpZihhKHQpKWZvcih3IGluIHQpZyh0aGlzLHcsdFt3XSk7ZWxzZSBnKHRoaXMsdCx2KHRoaXMsZSxuLHRoaXMuZ2V0QXR0cmlidXRlKHQpKSl9KTp0aGlzLmxlbmd0aCYmMT09PXRoaXNbMF0ubm9kZVR5cGU%2FIShuPXRoaXNbMF0uZ2V0QXR0cmlidXRlKHQpKSYmdCBpbiB0aGlzWzBdP3RoaXNbMF1bdF06bjpBfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsxPT09dGhpcy5ub2RlVHlwZSYmdC5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24odCl7Zyh0aGlzLHQpfSx0aGlzKX0pfSxwcm9wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9Slt0XXx8dCwxIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24obil7dGhpc1t0XT12KHRoaXMsZSxuLHRoaXNbdF0pfSk6dGhpc1swXSYmdGhpc1swXVt0XX0sZGF0YTpmdW5jdGlvbih0LGUpe3ZhciBuPSJkYXRhLSIrdC5yZXBsYWNlKEIsIi0kMSIpLnRvTG93ZXJDYXNlKCksaT0xIGluIGFyZ3VtZW50cz90aGlzLmF0dHIobixlKTp0aGlzLmF0dHIobik7cmV0dXJuIG51bGwhPT1pP2IoaSk6QX0sdmFsOmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24oZSl7dGhpcy52YWx1ZT12KHRoaXMsdCxlLHRoaXMudmFsdWUpfSk6dGhpc1swXSYmKHRoaXNbMF0ubXVsdGlwbGU%2FRih0aGlzWzBdKS5maW5kKCJvcHRpb24iKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH0pLnBsdWNrKCJ2YWx1ZSIpOnRoaXNbMF0udmFsdWUpfSxvZmZzZXQ6ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPUYodGhpcyksaT12KHRoaXMsdCxlLG4ub2Zmc2V0KCkpLGE9bi5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxyPXt0b3A6aS50b3AtYS50b3AsbGVmdDppLmxlZnQtYS5sZWZ0fTsic3RhdGljIj09bi5jc3MoInBvc2l0aW9uIikmJihyLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLG4uY3NzKHIpfSk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlPXRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ZS5sZWZ0K3dpbmRvdy5wYWdlWE9mZnNldCx0b3A6ZS50b3Ard2luZG93LnBhZ2VZT2Zmc2V0LHdpZHRoOk1hdGgucm91bmQoZS53aWR0aCksaGVpZ2h0Ok1hdGgucm91bmQoZS5oZWlnaHQpfX0sY3NzOmZ1bmN0aW9uKGUsbil7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgaSxhPXRoaXNbMF07aWYoIWEpcmV0dXJuO2lmKGk9Z2V0Q29tcHV0ZWRTdHlsZShhLCIiKSwic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGEuc3R5bGVbQyhlKV18fGkuZ2V0UHJvcGVydHlWYWx1ZShlKTtpZihHKGUpKXt2YXIgcj17fTtyZXR1cm4gRi5lYWNoKGUsZnVuY3Rpb24odCxlKXtyW2VdPWEuc3R5bGVbQyhlKV18fGkuZ2V0UHJvcGVydHlWYWx1ZShlKX0pLHJ9fXZhciBvPSIiO2lmKCJzdHJpbmciPT10KGUpKW58fDA9PT1uP289ZihlKSsiOiIrdShlLG4pOnRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoZihlKSl9KTtlbHNlIGZvcih3IGluIGUpZVt3XXx8MD09PWVbd10%2Fbys9Zih3KSsiOiIrdSh3LGVbd10pKyI7Ijp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGYodykpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUuY3NzVGV4dCs9IjsiK299KX0saW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ%2FdGhpcy5pbmRleE9mKEYodClbMF0pOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pfSxoYXNDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD9ULnNvbWUuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRlc3QoeSh0KSl9LGwodCkpOiExfSxhZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24oZSl7aWYoImNsYXNzTmFtZSJpbiB0aGlzKXtFPVtdO3ZhciBuPXkodGhpcyksaT12KHRoaXMsdCxlLG4pO2kuc3BsaXQoL1xzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe0YodGhpcykuaGFzQ2xhc3ModCl8fEUucHVzaCh0KX0sdGhpcyksRS5sZW5ndGgmJnkodGhpcyxuKyhuPyIgIjoiIikrRS5qb2luKCIgIikpfX0pOnRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7aWYoImNsYXNzTmFtZSJpbiB0aGlzKXtpZih0PT09QSlyZXR1cm4geSh0aGlzLCIiKTtFPXkodGhpcyksdih0aGlzLHQsZSxFKS5zcGxpdCgvXHMrL2cpLmZvckVhY2goZnVuY3Rpb24odCl7RT1FLnJlcGxhY2UobCh0KSwiICIpfSkseSh0aGlzLEUudHJpbSgpKX19KX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIGk9Rih0aGlzKSxhPXYodGhpcyx0LG4seSh0aGlzKSk7YS5zcGxpdCgvXHMrL2cpLmZvckVhY2goZnVuY3Rpb24odCl7KGU9PT1BPyFpLmhhc0NsYXNzKHQpOmUpP2kuYWRkQ2xhc3ModCk6aS5yZW1vdmVDbGFzcyh0KX0pfSk6dGhpc30sc2Nyb2xsVG9wOmZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoKXt2YXIgZT0ic2Nyb2xsVG9wImluIHRoaXNbMF07cmV0dXJuIHQ9PT1BP2U%2FdGhpc1swXS5zY3JvbGxUb3A6dGhpc1swXS5wYWdlWU9mZnNldDp0aGlzLmVhY2goZT9mdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG9wPXR9OmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUbyh0aGlzLnNjcm9sbFgsdCl9KX19LHNjcm9sbExlZnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgpe3ZhciBlPSJzY3JvbGxMZWZ0ImluIHRoaXNbMF07cmV0dXJuIHQ9PT1BP2U%2FdGhpc1swXS5zY3JvbGxMZWZ0OnRoaXNbMF0ucGFnZVhPZmZzZXQ6dGhpcy5lYWNoKGU%2FZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExlZnQ9dH06ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvKHQsdGhpcy5zY3JvbGxZKX0pfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIHQ9dGhpc1swXSxlPXRoaXMub2Zmc2V0UGFyZW50KCksbj10aGlzLm9mZnNldCgpLGk9TS50ZXN0KGVbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmUub2Zmc2V0KCk7cmV0dXJuIG4udG9wLT1wYXJzZUZsb2F0KEYodCkuY3NzKCJtYXJnaW4tdG9wIikpfHwwLG4ubGVmdC09cGFyc2VGbG9hdChGKHQpLmNzcygibWFyZ2luLWxlZnQiKSl8fDAsaS50b3ArPXBhcnNlRmxvYXQoRihlWzBdKS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSl8fDAsaS5sZWZ0Kz1wYXJzZUZsb2F0KEYoZVswXSkuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpKXx8MCx7dG9wOm4udG9wLWkudG9wLGxlZnQ6bi5sZWZ0LWkubGVmdH19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnR8fE4uYm9keTt0JiYhTS50ZXN0KHQubm9kZU5hbWUpJiYic3RhdGljIj09Rih0KS5jc3MoInBvc2l0aW9uIik7KXQ9dC5vZmZzZXRQYXJlbnQ7cmV0dXJuIHR9KX19LEYuZm4uZGV0YWNoPUYuZm4ucmVtb3ZlLFsid2lkdGgiLCJoZWlnaHQiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmVwbGFjZSgvLi8sZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0udG9VcHBlckNhc2UoKX0pO0YuZm5bdF09ZnVuY3Rpb24oYSl7dmFyIHIsbz10aGlzWzBdO3JldHVybiBhPT09QT9uKG8pP29bImlubmVyIitlXTppKG8pP28uZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2VdOihyPXRoaXMub2Zmc2V0KCkpJiZyW3RdOnRoaXMuZWFjaChmdW5jdGlvbihlKXtvPUYodGhpcyksby5jc3ModCx2KHRoaXMsYSxlLG9bdF0oKSkpfSl9fSksSS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dmFyIGk9biUyO0YuZm5bZV09ZnVuY3Rpb24oKXt2YXIgZSxhLHI9Ri5tYXAoYXJndW1lbnRzLGZ1bmN0aW9uKG4pe3JldHVybiBlPXQobiksIm9iamVjdCI9PWV8fCJhcnJheSI9PWV8fG51bGw9PW4%2FbjpWLmZyYWdtZW50KG4pfSksbz10aGlzLmxlbmd0aD4xO3JldHVybiByLmxlbmd0aDwxP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQsZSl7YT1pP2U6ZS5wYXJlbnROb2RlLGU9MD09bj9lLm5leHRTaWJsaW5nOjE9PW4%2FZS5maXJzdENoaWxkOjI9PW4%2FZTpudWxsO3ZhciBzPUYuY29udGFpbnMoTi5kb2N1bWVudEVsZW1lbnQsYSk7ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKG8pdD10LmNsb25lTm9kZSghMCk7ZWxzZSBpZighYSlyZXR1cm4gRih0KS5yZW1vdmUoKTthLmluc2VydEJlZm9yZSh0LGUpLHMmJngodCxmdW5jdGlvbih0KXtudWxsPT10Lm5vZGVOYW1lfHwiU0NSSVBUIiE9PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKXx8dC50eXBlJiYidGV4dC9qYXZhc2NyaXB0IiE9PXQudHlwZXx8dC5zcmN8fHdpbmRvdy5ldmFsLmNhbGwod2luZG93LHQuaW5uZXJIVE1MKX0pfSl9KX0sRi5mbltpP2UrIlRvIjoiaW5zZXJ0Iisobj8iQmVmb3JlIjoiQWZ0ZXIiKV09ZnVuY3Rpb24odCl7cmV0dXJuIEYodClbZV0odGhpcyksdGhpc319KSxWLloucHJvdG90eXBlPUYuZm4sVi51bmlxPVMsVi5kZXNlcmlhbGl6ZVZhbHVlPWIsRi56ZXB0bz1WLEZ9KCk7d2luZG93LlplcHRvPVplcHRvLHZvaWQgMD09PXdpbmRvdy4kJiYod2luZG93LiQ9WmVwdG8pLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHQuX3ppZHx8KHQuX3ppZD1oKyspfWZ1bmN0aW9uIG4odCxuLHIsbyl7aWYobj1pKG4pLG4ubnMpdmFyIHM9YShuLm5zKTtyZXR1cm4odltlKHQpXXx8W10pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHxuLmUmJnQuZSE9bi5lfHxuLm5zJiYhcy50ZXN0KHQubnMpfHxyJiZlKHQuZm4pIT09ZShyKXx8byYmdC5zZWwhPW8pfSl9ZnVuY3Rpb24gaSh0KXt2YXIgZT0oIiIrdCkuc3BsaXQoIi4iKTtyZXR1cm57ZTplWzBdLG5zOmUuc2xpY2UoMSkuc29ydCgpLmpvaW4oIiAiKX19ZnVuY3Rpb24gYSh0KXtyZXR1cm4gbmV3IFJlZ0V4cCgiKD86XnwgKSIrdC5yZXBsYWNlKCIgIiwiIC4qID8iKSsiKD86IHwkKSIpfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gdC5kZWwmJiF5JiZ0LmUgaW4gYnx8ISFlfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHhbdF18fHkmJmJbdF18fHR9ZnVuY3Rpb24gcyhuLGEscyxjLGwsaCxkKXt2YXIgcD1lKG4pLG09dltwXXx8KHZbcF09W10pO2Euc3BsaXQoL1xzLykuZm9yRWFjaChmdW5jdGlvbihlKXtpZigicmVhZHkiPT1lKXJldHVybiB0KGRvY3VtZW50KS5yZWFkeShzKTt2YXIgYT1pKGUpO2EuZm49cyxhLnNlbD1sLGEuZSBpbiB4JiYocz1mdW5jdGlvbihlKXt2YXIgbj1lLnJlbGF0ZWRUYXJnZXQ7cmV0dXJuIW58fG4hPT10aGlzJiYhdC5jb250YWlucyh0aGlzLG4pP2EuZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH0pLGEuZGVsPWg7dmFyIHA9aHx8czthLnByb3h5PWZ1bmN0aW9uKHQpe2lmKHQ9Zih0KSwhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXt0LmRhdGE9Yzt2YXIgZT1wLmFwcGx5KG4sdC5fYXJncz09dT9bdF06W3RdLmNvbmNhdCh0Ll9hcmdzKSk7cmV0dXJuIGU9PT0hMSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSxlfX0sYS5pPW0ubGVuZ3RoLG0ucHVzaChhKSwiYWRkRXZlbnRMaXN0ZW5lciJpbiBuJiZuLmFkZEV2ZW50TGlzdGVuZXIobyhhLmUpLGEucHJveHkscihhLGQpKX0pfWZ1bmN0aW9uIGModCxpLGEscyxjKXt2YXIgZj1lKHQpOyhpfHwiIikuc3BsaXQoL1xzLykuZm9yRWFjaChmdW5jdGlvbihlKXtuKHQsZSxhLHMpLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIHZbZl1bZS5pXSwicmVtb3ZlRXZlbnRMaXN0ZW5lciJpbiB0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIobyhlLmUpLGUucHJveHkscihlLGMpKX0pfSl9ZnVuY3Rpb24gZihlLG4pe3JldHVybihufHwhZS5pc0RlZmF1bHRQcmV2ZW50ZWQpJiYobnx8KG49ZSksdC5lYWNoKEUsZnVuY3Rpb24odCxpKXt2YXIgYT1uW3RdO2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tpXT1BLGEmJmEuYXBwbHkobixhcmd1bWVudHMpfSxlW2ldPXd9KSwobi5kZWZhdWx0UHJldmVudGVkIT09dT9uLmRlZmF1bHRQcmV2ZW50ZWQ6InJldHVyblZhbHVlImluIG4%2Fbi5yZXR1cm5WYWx1ZT09PSExOm4uZ2V0UHJldmVudERlZmF1bHQmJm4uZ2V0UHJldmVudERlZmF1bHQoKSkmJihlLmlzRGVmYXVsdFByZXZlbnRlZD1BKSksZX1mdW5jdGlvbiBsKHQpe3ZhciBlLG49e29yaWdpbmFsRXZlbnQ6dH07Zm9yKGUgaW4gdClGLnRlc3QoZSl8fHRbZV09PT11fHwobltlXT10W2VdKTtyZXR1cm4gZihuLHQpfXZhciB1LGg9MSxkPUFycmF5LnByb3RvdHlwZS5zbGljZSxwPXQuaXNGdW5jdGlvbixtPWZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdH0sdj17fSxnPXt9LHk9Im9uZm9jdXNpbiJpbiB3aW5kb3csYj17Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0seD17bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9O2cuY2xpY2s9Zy5tb3VzZWRvd249Zy5tb3VzZXVwPWcubW91c2Vtb3ZlPSJNb3VzZUV2ZW50cyIsdC5ldmVudD17YWRkOnMscmVtb3ZlOmN9LHQucHJveHk9ZnVuY3Rpb24obixpKXt2YXIgYT0yIGluIGFyZ3VtZW50cyYmZC5jYWxsKGFyZ3VtZW50cywyKTtpZihwKG4pKXt2YXIgcj1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KGksYT9hLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSk6YXJndW1lbnRzKX07cmV0dXJuIHIuX3ppZD1lKG4pLHJ9aWYobShpKSlyZXR1cm4gYT8oYS51bnNoaWZ0KG5baV0sbiksdC5wcm94eS5hcHBseShudWxsLGEpKTp0LnByb3h5KG5baV0sbik7dGhyb3cgbmV3IFR5cGVFcnJvcigiZXhwZWN0ZWQgZnVuY3Rpb24iKX0sdC5mbi5iaW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbih0LGUsbil9LHQuZm4udW5iaW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub2ZmKHQsZSl9LHQuZm4ub25lPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLm9uKHQsZSxuLGksMSl9O3ZhciBBPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sRj0vXihbQS1aXXxyZXR1cm5WYWx1ZSR8bGF5ZXJbWFldJCkvLEU9e3ByZXZlbnREZWZhdWx0OiJpc0RlZmF1bHRQcmV2ZW50ZWQiLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjoiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLHN0b3BQcm9wYWdhdGlvbjoiaXNQcm9wYWdhdGlvblN0b3BwZWQifTt0LmZuLmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbil9LHQuZm4udW5kZWxlZ2F0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub2ZmKGUsdCxuKX0sdC5mbi5saXZlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvcixlLG4pLHRoaXN9LHQuZm4uZGllPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLGUsbiksdGhpc30sdC5mbi5vbj1mdW5jdGlvbihlLG4saSxhLHIpe3ZhciBvLGYsaD10aGlzO3JldHVybiBlJiYhbShlKT8odC5lYWNoKGUsZnVuY3Rpb24odCxlKXtoLm9uKHQsbixpLGUscil9KSxoKToobShuKXx8cChhKXx8YT09PSExfHwoYT1pLGk9bixuPXUpLChwKGkpfHxpPT09ITEpJiYoYT1pLGk9dSksYT09PSExJiYoYT13KSxoLmVhY2goZnVuY3Rpb24odSxoKXtyJiYobz1mdW5jdGlvbih0KXtyZXR1cm4gYyhoLHQudHlwZSxhKSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG4mJihmPWZ1bmN0aW9uKGUpe3ZhciBpLHI9dChlLnRhcmdldCkuY2xvc2VzdChuLGgpLmdldCgwKTtyZXR1cm4gciYmciE9PWg%2FKGk9dC5leHRlbmQobChlKSx7Y3VycmVudFRhcmdldDpyLGxpdmVGaXJlZDpofSksKG98fGEpLmFwcGx5KHIsW2ldLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzLDEpKSkpOnZvaWQgMH0pLHMoaCxlLGEsaSxuLGZ8fG8pfSkpfSx0LmZuLm9mZj1mdW5jdGlvbihlLG4saSl7dmFyIGE9dGhpcztyZXR1cm4gZSYmIW0oZSk%2FKHQuZWFjaChlLGZ1bmN0aW9uKHQsZSl7YS5vZmYodCxuLGUpfSksYSk6KG0obil8fHAoaSl8fGk9PT0hMXx8KGk9bixuPXUpLGk9PT0hMSYmKGk9dyksYS5lYWNoKGZ1bmN0aW9uKCl7Yyh0aGlzLGUsaSxuKX0pKX0sdC5mbi50cmlnZ2VyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGU9bShlKXx8dC5pc1BsYWluT2JqZWN0KGUpP3QuRXZlbnQoZSk6ZihlKSxlLl9hcmdzPW4sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZS50eXBlIGluIGImJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2UudHlwZV0%2FdGhpc1tlLnR5cGVdKCk6ImRpc3BhdGNoRXZlbnQiaW4gdGhpcz90aGlzLmRpc3BhdGNoRXZlbnQoZSk6dCh0aGlzKS50cmlnZ2VySGFuZGxlcihlLG4pfSl9LHQuZm4udHJpZ2dlckhhbmRsZXI9ZnVuY3Rpb24oZSxpKXt2YXIgYSxyO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyxzKXthPWwobShlKT90LkV2ZW50KGUpOmUpLGEuX2FyZ3M9aSxhLnRhcmdldD1zLHQuZWFjaChuKHMsZS50eXBlfHxlKSxmdW5jdGlvbih0LGUpe3JldHVybiByPWUucHJveHkoYSksYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpPyExOnZvaWQgMH0pfSkscn0sImZvY3VzaW4gZm9jdXNvdXQgZm9jdXMgYmx1ciBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciIuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZm5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuYmluZChlLHQpOnRoaXMudHJpZ2dlcihlKX19KSx0LkV2ZW50PWZ1bmN0aW9uKHQsZSl7bSh0KXx8KGU9dCx0PWUudHlwZSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoZ1t0XXx8IkV2ZW50cyIpLGk9ITA7aWYoZSlmb3IodmFyIGEgaW4gZSkiYnViYmxlcyI9PWE%2FaT0hIWVbYV06blthXT1lW2FdO3JldHVybiBuLmluaXRFdmVudCh0LGksITApLGYobil9fShaZXB0byksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIGE9dC5FdmVudChuKTtyZXR1cm4gdChlKS50cmlnZ2VyKGEsaSksIWEuaXNEZWZhdWx0UHJldmVudGVkKCl9ZnVuY3Rpb24gbih0LG4saSxhKXtyZXR1cm4gdC5nbG9iYWw%2FZShufHx5LGksYSk6dm9pZCAwfWZ1bmN0aW9uIGkoZSl7ZS5nbG9iYWwmJjA9PT10LmFjdGl2ZSsrJiZuKGUsbnVsbCwiYWpheFN0YXJ0Iil9ZnVuY3Rpb24gYShlKXtlLmdsb2JhbCYmIS0tdC5hY3RpdmUmJm4oZSxudWxsLCJhamF4U3RvcCIpfWZ1bmN0aW9uIHIodCxlKXt2YXIgaT1lLmNvbnRleHQ7cmV0dXJuIGUuYmVmb3JlU2VuZC5jYWxsKGksdCxlKT09PSExfHxuKGUsaSwiYWpheEJlZm9yZVNlbmQiLFt0LGVdKT09PSExPyExOnZvaWQgbihlLGksImFqYXhTZW5kIixbdCxlXSl9ZnVuY3Rpb24gbyh0LGUsaSxhKXt2YXIgcj1pLmNvbnRleHQsbz0ic3VjY2VzcyI7aS5zdWNjZXNzLmNhbGwocix0LG8sZSksYSYmYS5yZXNvbHZlV2l0aChyLFt0LG8sZV0pLG4oaSxyLCJhamF4U3VjY2VzcyIsW2UsaSx0XSksYyhvLGUsaSl9ZnVuY3Rpb24gcyh0LGUsaSxhLHIpe3ZhciBvPWEuY29udGV4dDthLmVycm9yLmNhbGwobyxpLGUsdCksciYmci5yZWplY3RXaXRoKG8sW2ksZSx0XSksbihhLG8sImFqYXhFcnJvciIsW2ksYSx0fHxlXSksYyhlLGksYSl9ZnVuY3Rpb24gYyh0LGUsaSl7dmFyIHI9aS5jb250ZXh0O2kuY29tcGxldGUuY2FsbChyLGUsdCksbihpLHIsImFqYXhDb21wbGV0ZSIsW2UsaV0pLGEoaSl9ZnVuY3Rpb24gZigpe31mdW5jdGlvbiBsKHQpe3JldHVybiB0JiYodD10LnNwbGl0KCI7IiwyKVswXSksdCYmKHQ9PUY%2FImh0bWwiOnQ9PXc%2FImpzb24iOngudGVzdCh0KT8ic2NyaXB0IjpBLnRlc3QodCkmJiJ4bWwiKXx8InRleHQifWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4iIj09ZT90Oih0KyImIitlKS5yZXBsYWNlKC9bJj9dezEsMn0vLCI%2FIil9ZnVuY3Rpb24gaChlKXtlLnByb2Nlc3NEYXRhJiZlLmRhdGEmJiJzdHJpbmciIT10LnR5cGUoZS5kYXRhKSYmKGUuZGF0YT10LnBhcmFtKGUuZGF0YSxlLnRyYWRpdGlvbmFsKSksIWUuZGF0YXx8ZS50eXBlJiYiR0VUIiE9ZS50eXBlLnRvVXBwZXJDYXNlKCl8fChlLnVybD11KGUudXJsLGUuZGF0YSksZS5kYXRhPXZvaWQgMCl9ZnVuY3Rpb24gZChlLG4saSxhKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKG4pJiYoYT1pLGk9bixuPXZvaWQgMCksdC5pc0Z1bmN0aW9uKGkpfHwoYT1pLGk9dm9pZCAwKSx7dXJsOmUsZGF0YTpuLHN1Y2Nlc3M6aSxkYXRhVHlwZTphfX1mdW5jdGlvbiBwKGUsbixpLGEpe3ZhciByLG89dC5pc0FycmF5KG4pLHM9dC5pc1BsYWluT2JqZWN0KG4pO3QuZWFjaChuLGZ1bmN0aW9uKG4sYyl7cj10LnR5cGUoYyksYSYmKG49aT9hOmErIlsiKyhzfHwib2JqZWN0Ij09cnx8ImFycmF5Ij09cj9uOiIiKSsiXSIpLCFhJiZvP2UuYWRkKGMubmFtZSxjLnZhbHVlKToiYXJyYXkiPT1yfHwhaSYmIm9iamVjdCI9PXI%2FcChlLGMsaSxuKTplLmFkZChuLGMpfSl9dmFyIG0sdixnPTAseT13aW5kb3cuZG9jdW1lbnQsYj0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ%2BKTxbXjxdKikqPFwvc2NyaXB0Pi9naSx4PS9eKD86dGV4dHxhcHBsaWNhdGlvbilcL2phdmFzY3JpcHQvaSxBPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcL3htbC9pLHc9ImFwcGxpY2F0aW9uL2pzb24iLEY9InRleHQvaHRtbCIsRT0vXlxzKiQvLEM9eS5jcmVhdGVFbGVtZW50KCJhIik7Qy5ocmVmPXdpbmRvdy5sb2NhdGlvbi5ocmVmLHQuYWN0aXZlPTAsdC5hamF4SlNPTlA9ZnVuY3Rpb24oZSxuKXtpZighKCJ0eXBlImluIGUpKXJldHVybiB0LmFqYXgoZSk7dmFyIGksYSxjPWUuanNvbnBDYWxsYmFjayxmPSh0LmlzRnVuY3Rpb24oYyk%2FYygpOmMpfHwianNvbnAiKyArK2csbD15LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHU9d2luZG93W2ZdLGg9ZnVuY3Rpb24oZSl7dChsKS50cmlnZ2VySGFuZGxlcigiZXJyb3IiLGV8fCJhYm9ydCIpfSxkPXthYm9ydDpofTtyZXR1cm4gbiYmbi5wcm9taXNlKGQpLHQobCkub24oImxvYWQgZXJyb3IiLGZ1bmN0aW9uKHIsYyl7Y2xlYXJUaW1lb3V0KGEpLHQobCkub2ZmKCkucmVtb3ZlKCksImVycm9yIiE9ci50eXBlJiZpP28oaVswXSxkLGUsbik6cyhudWxsLGN8fCJlcnJvciIsZCxlLG4pLHdpbmRvd1tmXT11LGkmJnQuaXNGdW5jdGlvbih1KSYmdShpWzBdKSx1PWk9dm9pZCAwfSkscihkLGUpPT09ITE%2FKGgoImFib3J0IiksZCk6KHdpbmRvd1tmXT1mdW5jdGlvbigpe2k9YXJndW1lbnRzfSxsLnNyYz1lLnVybC5yZXBsYWNlKC9cPyguKyk9XD8vLCI%2FJDE9IitmKSx5LmhlYWQuYXBwZW5kQ2hpbGQobCksZS50aW1lb3V0PjAmJihhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtoKCJ0aW1lb3V0Iil9LGUudGltZW91dCkpLGQpfSx0LmFqYXhTZXR0aW5ncz17CnR5cGU6IkdFVCIsYmVmb3JlU2VuZDpmLHN1Y2Nlc3M6ZixlcnJvcjpmLGNvbXBsZXRlOmYsY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCIsanNvbjp3LHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDpGLHRleHQ6InRleHQvcGxhaW4ifSxjcm9zc0RvbWFpbjohMSx0aW1lb3V0OjAscHJvY2Vzc0RhdGE6ITAsY2FjaGU6ITB9LHQuYWpheD1mdW5jdGlvbihlKXt2YXIgbixhPXQuZXh0ZW5kKHt9LGV8fHt9KSxjPXQuRGVmZXJyZWQmJnQuRGVmZXJyZWQoKTtmb3IobSBpbiB0LmFqYXhTZXR0aW5ncyl2b2lkIDA9PT1hW21dJiYoYVttXT10LmFqYXhTZXR0aW5nc1ttXSk7aShhKSxhLmNyb3NzRG9tYWlufHwobj15LmNyZWF0ZUVsZW1lbnQoImEiKSxuLmhyZWY9YS51cmwsbi5ocmVmPW4uaHJlZixhLmNyb3NzRG9tYWluPUMucHJvdG9jb2wrIi8vIitDLmhvc3QhPW4ucHJvdG9jb2wrIi8vIituLmhvc3QpLGEudXJsfHwoYS51cmw9d2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpLGgoYSk7dmFyIGQ9YS5kYXRhVHlwZSxwPS9cPy4rPVw%2FLy50ZXN0KGEudXJsKTtpZihwJiYoZD0ianNvbnAiKSxhLmNhY2hlIT09ITEmJihlJiZlLmNhY2hlPT09ITB8fCJzY3JpcHQiIT1kJiYianNvbnAiIT1kKXx8KGEudXJsPXUoYS51cmwsIl89IitEYXRlLm5vdygpKSksImpzb25wIj09ZClyZXR1cm4gcHx8KGEudXJsPXUoYS51cmwsYS5qc29ucD9hLmpzb25wKyI9PyI6YS5qc29ucD09PSExPyIiOiJjYWxsYmFjaz0%2FIikpLHQuYWpheEpTT05QKGEsYyk7dmFyIGcsYj1hLmFjY2VwdHNbZF0seD17fSxBPWZ1bmN0aW9uKHQsZSl7eFt0LnRvTG93ZXJDYXNlKCldPVt0LGVdfSx3PS9eKFtcdy1dKzopXC9cLy8udGVzdChhLnVybCk%2FUmVnRXhwLiQxOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxGPWEueGhyKCksUz1GLnNldFJlcXVlc3RIZWFkZXI7aWYoYyYmYy5wcm9taXNlKEYpLGEuY3Jvc3NEb21haW58fEEoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLEEoIkFjY2VwdCIsYnx8IiovKiIpLChiPWEubWltZVR5cGV8fGIpJiYoYi5pbmRleE9mKCIsIik%2BLTEmJihiPWIuc3BsaXQoIiwiLDIpWzBdKSxGLm92ZXJyaWRlTWltZVR5cGUmJkYub3ZlcnJpZGVNaW1lVHlwZShiKSksKGEuY29udGVudFR5cGV8fGEuY29udGVudFR5cGUhPT0hMSYmYS5kYXRhJiYiR0VUIiE9YS50eXBlLnRvVXBwZXJDYXNlKCkpJiZBKCJDb250ZW50LVR5cGUiLGEuY29udGVudFR5cGV8fCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSxhLmhlYWRlcnMpZm9yKHYgaW4gYS5oZWFkZXJzKUEodixhLmhlYWRlcnNbdl0pO2lmKEYuc2V0UmVxdWVzdEhlYWRlcj1BLEYub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09Ri5yZWFkeVN0YXRlKXtGLm9ucmVhZHlzdGF0ZWNoYW5nZT1mLGNsZWFyVGltZW91dChnKTt2YXIgZSxuPSExO2lmKEYuc3RhdHVzPj0yMDAmJkYuc3RhdHVzPDMwMHx8MzA0PT1GLnN0YXR1c3x8MD09Ri5zdGF0dXMmJiJmaWxlOiI9PXcpe2Q9ZHx8bChhLm1pbWVUeXBlfHxGLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSksZT1GLnJlc3BvbnNlVGV4dDt0cnl7InNjcmlwdCI9PWQ%2FKDEsZXZhbCkoZSk6InhtbCI9PWQ%2FZT1GLnJlc3BvbnNlWE1MOiJqc29uIj09ZCYmKGU9RS50ZXN0KGUpP251bGw6dC5wYXJzZUpTT04oZSkpfWNhdGNoKGkpe249aX1uP3MobiwicGFyc2VyZXJyb3IiLEYsYSxjKTpvKGUsRixhLGMpfWVsc2UgcyhGLnN0YXR1c1RleHR8fG51bGwsRi5zdGF0dXM%2FImVycm9yIjoiYWJvcnQiLEYsYSxjKX19LHIoRixhKT09PSExKXJldHVybiBGLmFib3J0KCkscyhudWxsLCJhYm9ydCIsRixhLGMpLEY7aWYoYS54aHJGaWVsZHMpZm9yKHYgaW4gYS54aHJGaWVsZHMpRlt2XT1hLnhockZpZWxkc1t2XTt2YXIgVD0iYXN5bmMiaW4gYT9hLmFzeW5jOiEwO0Yub3BlbihhLnR5cGUsYS51cmwsVCxhLnVzZXJuYW1lLGEucGFzc3dvcmQpO2Zvcih2IGluIHgpUy5hcHBseShGLHhbdl0pO3JldHVybiBhLnRpbWVvdXQ%2BMCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe0Yub25yZWFkeXN0YXRlY2hhbmdlPWYsRi5hYm9ydCgpLHMobnVsbCwidGltZW91dCIsRixhLGMpfSxhLnRpbWVvdXQpKSxGLnNlbmQoYS5kYXRhP2EuZGF0YTpudWxsKSxGfSx0LmdldD1mdW5jdGlvbigpe3JldHVybiB0LmFqYXgoZC5hcHBseShudWxsLGFyZ3VtZW50cykpfSx0LnBvc3Q9ZnVuY3Rpb24oKXt2YXIgZT1kLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gZS50eXBlPSJQT1NUIix0LmFqYXgoZSl9LHQuZ2V0SlNPTj1mdW5jdGlvbigpe3ZhciBlPWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiBlLmRhdGFUeXBlPSJqc29uIix0LmFqYXgoZSl9LHQuZm4ubG9hZD1mdW5jdGlvbihlLG4saSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBhLHI9dGhpcyxvPWUuc3BsaXQoL1xzLykscz1kKGUsbixpKSxjPXMuc3VjY2VzcztyZXR1cm4gby5sZW5ndGg%2BMSYmKHMudXJsPW9bMF0sYT1vWzFdKSxzLnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7ci5odG1sKGE%2FdCgiPGRpdj4iKS5odG1sKGUucmVwbGFjZShiLCIiKSkuZmluZChhKTplKSxjJiZjLmFwcGx5KHIsYXJndW1lbnRzKX0sdC5hamF4KHMpLHRoaXN9O3ZhciBTPWVuY29kZVVSSUNvbXBvbmVudDt0LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGkuYWRkPWZ1bmN0aW9uKGUsbil7dC5pc0Z1bmN0aW9uKG4pJiYobj1uKCkpLG51bGw9PW4mJihuPSIiKSx0aGlzLnB1c2goUyhlKSsiPSIrUyhuKSl9LHAoaSxlLG4pLGkuam9pbigiJiIpLnJlcGxhY2UoLyUyMC9nLCIrIil9fShaZXB0byksZnVuY3Rpb24odCl7dC5mbi5zZXJpYWxpemVBcnJheT1mdW5jdGlvbigpe3ZhciBlLG4saT1bXSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2g%2FdC5mb3JFYWNoKGEpOnZvaWQgaS5wdXNoKHtuYW1lOmUsdmFsdWU6dH0pfTtyZXR1cm4gdGhpc1swXSYmdC5lYWNoKHRoaXNbMF0uZWxlbWVudHMsZnVuY3Rpb24oaSxyKXtuPXIudHlwZSxlPXIubmFtZSxlJiYiZmllbGRzZXQiIT1yLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiFyLmRpc2FibGVkJiYic3VibWl0IiE9biYmInJlc2V0IiE9biYmImJ1dHRvbiIhPW4mJiJmaWxlIiE9biYmKCJyYWRpbyIhPW4mJiJjaGVja2JveCIhPW58fHIuY2hlY2tlZCkmJmEodChyKS52YWwoKSl9KSxpfSx0LmZuLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLnNlcmlhbGl6ZUFycmF5KCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChlLnZhbHVlKSl9KSx0LmpvaW4oIiYiKX0sdC5mbi5zdWJtaXQ9ZnVuY3Rpb24oZSl7aWYoMCBpbiBhcmd1bWVudHMpdGhpcy5iaW5kKCJzdWJtaXQiLGUpO2Vsc2UgaWYodGhpcy5sZW5ndGgpe3ZhciBuPXQuRXZlbnQoInN1Ym1pdCIpO3RoaXMuZXEoMCkudHJpZ2dlcihuKSxuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmdldCgwKS5zdWJtaXQoKX1yZXR1cm4gdGhpc319KFplcHRvKSxmdW5jdGlvbih0KXsiX19wcm90b19fImlue318fHQuZXh0ZW5kKHQuemVwdG8se1o6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT1lfHxbXSx0LmV4dGVuZChlLHQuZm4pLGUuc2VsZWN0b3I9bnx8IiIsZS5fX1o9ITAsZX0saXNaOmZ1bmN0aW9uKGUpe3JldHVybiJhcnJheSI9PT10LnR5cGUoZSkmJiJfX1oiaW4gZX19KTt0cnl7Z2V0Q29tcHV0ZWRTdHlsZSh2b2lkIDApfWNhdGNoKGUpe3ZhciBuPWdldENvbXB1dGVkU3R5bGU7d2luZG93LmdldENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuKHQpfWNhdGNoKGUpe3JldHVybiBudWxsfX19fShaZXB0byksZnVuY3Rpb24odCxlKXt2YXIgbj17Q09MT1I6e0VNUFRZOiJ0cmFuc3BhcmVudCJ9fTt0LmV4dGVuZCh0LmZuLHtpdGVtVG9nZ2xlOmZ1bmN0aW9uKCl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxuPWUucGFyZW50KCksaT10KCc8ZGl2IGNsYXNzPSJpdGVtLXN0eWxlZC10b2dnbGUtd3JhcHBlciI%2BPGRpdiBjbGFzcz0iaXRlbS1zdHlsZWQtdG9nZ2xlIj48ZGl2IGNsYXNzPSJpdGVtLXN0eWxlZC10b2dnbGUtYmFyIj48L2Rpdj48ZGl2IGNsYXNzPSJpdGVtLXN0eWxlZC10b2dnbGUtYmFyIj48L2Rpdj48ZGl2IGNsYXNzPSJpdGVtLXN0eWxlZC10b2dnbGUtYmFyIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtuLmFwcGVuZChpKX0pfSxpdGVtQ2hlY2tib3g6ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLG49ZS5wYXJlbnQoKSxpPXQoJzxkaXYgY2xhc3M9Iml0ZW0tc3R5bGVkLWNoZWNrYm94Ij48L2Rpdj4nKTtuLmFwcGVuZChpKX0pfSxpdGVtU2VsZWN0OmZ1bmN0aW9uKCl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxuPWUucGFyZW50KCk7bi5hcHBlbmQoJzxkaXYgY2xhc3M9InNlbGVjdC10cmlhbmdsZSI%2BPC9kaXY%2BJyl9KX0saXRlbURhdGU6ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7YS50ZXh0KG4udmFsKCkpfXZhciBuPXQodGhpcyksaT1uLnBhcmVudCgpLGE9dCgnPGRpdiBjbGFzcz0iaXRlbS1zdHlsZWQtZGF0ZSI%2BPC9kaXY%2BJyk7ZSgpLGkuYXBwZW5kKGEpLG4uY2hhbmdlKGZ1bmN0aW9uKCl7ZSgpfSl9KX0saXRlbVRpbWU6ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7YS50ZXh0KG4udmFsKCkpfXZhciBuPXQodGhpcyksaT1uLnBhcmVudCgpLGE9dCgnPGRpdiBjbGFzcz0iaXRlbS1zdHlsZWQtdGltZSI%2BPC9kaXY%2BJyk7ZSgpLGkuYXBwZW5kKGEpLG4uY2hhbmdlKGZ1bmN0aW9uKCl7ZSgpfSl9KX0saXRlbVJhZGlvOmZ1bmN0aW9uKCl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxuPWUucGFyZW50KCksaT10KCc8ZGl2IGNsYXNzPSJpdGVtLXN0eWxlZC1yYWRpbyI%2BPC9kaXY%2BJyk7bi5hcHBlbmQoaSl9KX0saXRlbUNvbG9yOmZ1bmN0aW9uKGUpe3ZhciBlPXQuZXh0ZW5kKHt9LHtzdW5ueTohMX0sZXx8e30pLGk9W1shMSwhMSwiIzU1RkYwMCIsIiNBQUZGNTUiLCExLCIjRkZGRjU1IiwiI0ZGRkZBQSIsITEsITFdLFshMSwiI0FBRkZBQSIsIiM1NUZGNTUiLCIjMDBGRjAwIiwiI0FBRkYwMCIsIiNGRkZGMDAiLCIjRkZBQTU1IiwiI0ZGQUFBQSIsITFdLFsiIzU1RkZBQSIsIiMwMEZGNTUiLCIjMDBBQTAwIiwiIzU1QUEwMCIsIiNBQUFBNTUiLCIjQUFBQTAwIiwiI0ZGQUEwMCIsIiNGRjU1MDAiLCIjRkY1NTU1Il0sWyIjQUFGRkZGIiwiIzAwRkZBQSIsIiMwMEFBNTUiLCIjNTVBQTU1IiwiIzAwNTUwMCIsIiM1NTU1MDAiLCIjQUE1NTAwIiwiI0ZGMDAwMCIsIiNGRjAwNTUiXSxbITEsIiM1NUFBQUEiLCIjMDBBQUFBIiwiIzAwNTU1NSIsIiNGRkZGRkYiLCIjMDAwMDAwIiwiI0FBNTU1NSIsIiNBQTAwMDAiLCExXSxbIiM1NUZGRkYiLCIjMDBGRkZGIiwiIzAwQUFGRiIsIiMwMDU1QUEiLCIjQUFBQUFBIiwiIzU1NTU1NSIsIiM1NTAwMDAiLCIjQUEwMDU1IiwiI0ZGNTVBQSJdLFsiIzU1QUFGRiIsIiMwMDU1RkYiLCIjMDAwMEZGIiwiIzAwMDBBQSIsIiMwMDAwNTUiLCIjNTUwMDU1IiwiI0FBMDBBQSIsIiNGRjAwQUEiLCIjRkZBQUZGIl0sWyExLCIjNTU1NUFBIiwiIzU1NTVGRiIsIiM1NTAwRkYiLCIjNTUwMEFBIiwiI0FBMDBGRiIsIiNGRjAwRkYiLCIjRkY1NUZGIiwhMV0sWyExLCExLCExLCIjQUFBQUZGIiwiI0FBNTVGRiIsIiNBQTU1QUEiLCExLCExLCExXV0sYT17IjAwMDAwMCI6IjAwMDAwMCIsIjAwMDA1NSI6IjAwMWU0MSIsIjAwMDBhYSI6IjAwNDM4NyIsIjAwMDBmZiI6IjAwNjhjYSIsIjAwNTUwMCI6IjJiNGEyYyIsIjAwNTU1NSI6IjI3NTE0ZiIsIjAwNTVhYSI6IjE2NjM4ZCIsIjAwNTVmZiI6IjAwN2RjZSIsIjAwYWEwMCI6IjVlOTg2MCIsIjAwYWE1NSI6IjVjOWI3MiIsIjAwYWFhYSI6IjU3YTVhMiIsIjAwYWFmZiI6IjRjYjRkYiIsIjAwZmYwMCI6IjhlZTM5MSIsIjAwZmY1NSI6IjhlZTY5ZSIsIjAwZmZhYSI6IjhhZWJjMCIsIjAwZmZmZiI6Ijg0ZjVmMSIsNTUwMDAwOiI0YTE2MWIiLDU1MDA1NToiNDgyNzQ4IiwiNTUwMGFhIjoiNDA0ODhhIiwiNTUwMGZmIjoiMmY2YmNjIiw1NTU1MDA6IjU2NGUzNiIsNTU1NTU1OiI1NDU0NTQiLCI1NTU1YWEiOiI0ZjY3OTAiLCI1NTU1ZmYiOiI0MTgwZDAiLCI1NWFhMDAiOiI3NTlhNjQiLCI1NWFhNTUiOiI3NTlkNzYiLCI1NWFhYWEiOiI3MWE2YTQiLCI1NWFhZmYiOiI2OWI1ZGQiLCI1NWZmMDAiOiI5ZWU1OTQiLCI1NWZmNTUiOiI5ZGU3YTAiLCI1NWZmYWEiOiI5YmVjYzIiLCI1NWZmZmYiOiI5NWY2ZjIiLGFhMDAwMDoiOTkzNTNmIixhYTAwNTU6Ijk4M2U1YSIsYWEwMGFhOiI5NTU2OTQiLGFhMDBmZjoiOGY3NGQyIixhYTU1MDA6IjlkNWI0ZCIsYWE1NTU1OiI5ZDYwNjQiLGFhNTVhYToiOWE3MDk5IixhYTU1ZmY6Ijk1ODdkNSIsYWFhYTAwOiJhZmEwNzIiLGFhYWE1NToiYWVhMzgyIixhYWFhYWE6ImFiYWJhYiIsZmZmZmZmOiJmZmZmZmYiLGFhYWFmZjoiYTdiYWUyIixhYWZmMDA6ImM5ZTg5ZCIsYWFmZjU1OiJjOWVhYTciLGFhZmZhYToiYzdmMGM4IixhYWZmZmY6ImMzZjlmNyIsZmYwMDAwOiJlMzU0NjIiLGZmMDA1NToiZTI1ODc0IixmZjAwYWE6ImUxNmFhMyIsZmYwMGZmOiJkZTgzZGMiLGZmNTUwMDoiZTY2ZTZiIixmZjU1NTU6ImU2NzI3YyIsZmY1NWFhOiJlMzdmYTciLGZmNTVmZjoiZTE5NGRmIixmZmFhMDA6ImYxYWE4NiIsZmZhYTU1OiJmMWFkOTMiLGZmYWFhYToiZWZiNWI4IixmZmFhZmY6ImVjYzNlYiIsZmZmZjAwOiJmZmVlYWIiLGZmZmY1NToiZmZmMWI1IixmZmZmYWE6ImZmZjZkMyJ9LHI9eyIwMDAwMDAiOiIwMDAwMDAiLCIwMDFlNDEiOiIwMDAwNTUiLCIwMDQzODciOiIwMDAwYWEiLCIwMDY4Y2EiOiIwMDAwZmYiLCIyYjRhMmMiOiIwMDU1MDAiLCIyNzUxNGYiOiIwMDU1NTUiLCIxNjYzOGQiOiIwMDU1YWEiLCIwMDdkY2UiOiIwMDU1ZmYiLCI1ZTk4NjAiOiIwMGFhMDAiLCI1YzliNzIiOiIwMGFhNTUiLCI1N2E1YTIiOiIwMGFhYWEiLCI0Y2I0ZGIiOiIwMGFhZmYiLCI4ZWUzOTEiOiIwMGZmMDAiLCI4ZWU2OWUiOiIwMGZmNTUiLCI4YWViYzAiOiIwMGZmYWEiLCI4NGY1ZjEiOiIwMGZmZmYiLCI0YTE2MWIiOiI1NTAwMDAiLDQ4Mjc0ODoiNTUwMDU1IiwiNDA0ODhhIjoiNTUwMGFhIiwiMmY2YmNjIjoiNTUwMGZmIiwiNTY0ZTM2IjoiNTU1NTAwIiw1NDU0NTQ6IjU1NTU1NSIsIjRmNjc5MCI6IjU1NTVhYSIsIjQxODBkMCI6IjU1NTVmZiIsIjc1OWE2NCI6IjU1YWEwMCIsIjc1OWQ3NiI6IjU1YWE1NSIsIjcxYTZhNCI6IjU1YWFhYSIsIjY5YjVkZCI6IjU1YWFmZiIsIjllZTU5NCI6IjU1ZmYwMCIsIjlkZTdhMCI6IjU1ZmY1NSIsIjliZWNjMiI6IjU1ZmZhYSIsIjk1ZjZmMiI6IjU1ZmZmZiIsIjk5MzUzZiI6ImFhMDAwMCIsIjk4M2U1YSI6ImFhMDA1NSIsOTU1Njk0OiJhYTAwYWEiLCI4Zjc0ZDIiOiJhYTAwZmYiLCI5ZDViNGQiOiJhYTU1MDAiLCI5ZDYwNjQiOiJhYTU1NTUiLCI5YTcwOTkiOiJhYTU1YWEiLCI5NTg3ZDUiOiJhYTU1ZmYiLGFmYTA3MjoiYWFhYTAwIixhZWEzODI6ImFhYWE1NSIsYWJhYmFiOiJhYWFhYWEiLGZmZmZmZjoiZmZmZmZmIixhN2JhZTI6ImFhYWFmZiIsYzllODlkOiJhYWZmMDAiLGM5ZWFhNzoiYWFmZjU1IixjN2YwYzg6ImFhZmZhYSIsYzNmOWY3OiJhYWZmZmYiLGUzNTQ2MjoiZmYwMDAwIixlMjU4NzQ6ImZmMDA1NSIsZTE2YWEzOiJmZjAwYWEiLGRlODNkYzoiZmYwMGZmIixlNjZlNmI6ImZmNTUwMCIsZTY3MjdjOiJmZjU1NTUiLGUzN2ZhNzoiZmY1NWFhIixlMTk0ZGY6ImZmNTVmZiIsZjFhYTg2OiJmZmFhMDAiLGYxYWQ5MzoiZmZhYTU1IixlZmI1Yjg6ImZmYWFhYSIsZWNjM2ViOiJmZmFhZmYiLGZmZWVhYjoiZmZmZjAwIixmZmYxYjU6ImZmZmY1NSIsZmZmNmQzOiJmZmZmYWEifTt0aGlzLmVhY2goZnVuY3Rpb24oKXtmb3IodmFyIG89dCh0aGlzKSxzPW8ucGFyZW50KCksYz0iIixmPTEwMC9pWzBdLmxlbmd0aCxsPTEwMC9pLmxlbmd0aCx1PWYqaS5sZW5ndGgsaD0wO2g8aS5sZW5ndGg7aCsrKWZvcih2YXIgZD0wO2Q8aVtoXS5sZW5ndGg7ZCsrKXt2YXIgcD1pW2hdW2RdfHxuLkNPTE9SLkVNUFRZLG09cCE9PW4uQ09MT1IuRU1QVFk%2FIiBzZWxlY3RhYmxlIjoiIix2PTA9PT1oJiYwPT09ZHx8MD09PWgmJiFpW2hdW2QtMV18fCFpW2hdW2QtMV0mJiFpW2gtMV1bZF0%2FIiByb3VuZGVkLXRsIjoiIixnPTA9PT1oJiYhaVtoXVtkKzFdfHwhaVtoXVtkKzFdJiYhaVtoLTFdW2RdPyIgcm91bmRlZC10ciAiOiIiLHk9aD09PWkubGVuZ3RoLTEmJjA9PT1kfHxoPT09aS5sZW5ndGgtMSYmIWlbaF1bZC0xXXx8IWlbaF1bZC0xXSYmIWlbaCsxXVtkXT8iIHJvdW5kZWQtYmwiOiIiLGI9aD09PWkubGVuZ3RoLTEmJiFpW2hdW2QrMV18fCFpW2hdW2QrMV0mJiFpW2grMV1bZF0%2FIiByb3VuZGVkLWJyIjoiIjtlLnN1bm55JiZwIT09bi5DT0xPUi5FTVBUWSYmKHA9IiMiK2FbcC5yZXBsYWNlKCIjIiwiIikudG9Mb3dlckNhc2UoKV0pLGMrPSc8aSBjbGFzcz0iY29sb3ItYm94ICcrbSt2K2creStiKyciIGRhdGEtdmFsdWU9IicrcC5yZXBsYWNlKC9eIy8sIjB4IikrJyIgc3R5bGU9IndpZHRoOicrZisiJTsgaGVpZ2h0OiIrbCsiJTsgYmFja2dyb3VuZDoiK3ArJzsiPjwvaT4nfXZhciB4PXQoJzxkaXYgY2xhc3M9Iml0ZW0tc3R5bGVkLWNvbG9yIj48c3BhbiBjbGFzcz0idmFsdWUiIHN0eWxlPSJiYWNrZ3JvdW5kOicrby52YWwoKS5yZXBsYWNlKC9eMHgvLCIjIikrJyI%2BPC9zcGFuPjxkaXYgc3R5bGU9InBhZGRpbmctYm90dG9tOicrdSsnJSJjbGFzcz0iY29sb3ItYm94LXdyYXAiPjxkaXYgY2xhc3M9ImNvbG9yLWJveC1jb250YWluZXIiPicrYysiPC9kaXY%2BPC9kaXY%2BPC9kaXY%2BIik7cy5hcHBlbmQoeCk7dmFyIEE9eC5maW5kKCIudmFsdWUiKTtvLm9uKCJjbGljayIsZnVuY3Rpb24odCl7cy5maW5kKCIuY29sb3ItYm94LXdyYXAiKS50b2dnbGVDbGFzcygic2hvdyIpfSksby5vbigiY2hhbmdlIixmdW5jdGlvbihuKXt2YXIgaT10KHRoaXMpLnZhbCgpLnJlcGxhY2UoL14weC8sIiIpLnRvTG93ZXJDYXNlKCk7ZS5zdW5ueSYmKGk9YVtpXSksQS5jc3MoImJhY2tncm91bmQtY29sb3IiLCIjIitpKX0pLHMuZmluZCgiLmNvbG9yLWJveC5zZWxlY3RhYmxlIikub24oImNsaWNrIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dmFyIGk9dCh0aGlzKS5kYXRhKCJ2YWx1ZSIpLnRvTG93ZXJDYXNlKCk7ZS5zdW5ueT9vLnZhbCgiMHgiK3JbaS5yZXBsYWNlKC9eMHgvLCIiKV0pLnRyaWdnZXIoImNoYW5nZSIpOm8udmFsKGkpLnRyaWdnZXIoImNoYW5nZSIpLEEuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIixpLnJlcGxhY2UoL14weC8sIiMiKSkscy5maW5kKCIuY29sb3ItYm94LXdyYXAiKS5yZW1vdmVDbGFzcygic2hvdyIpfSl9KX0sdGFiOmZ1bmN0aW9uKCl7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtlLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxuPWUuYXR0cigibmFtZSIpO3QoImFbbmFtZT0iK24rIl0iKS5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9KSxlLmFkZENsYXNzKCJhY3RpdmUiKX0pfSl9LGl0ZW1TbGlkZXI6ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLG49ZS5hdHRyKCJuYW1lIiksaT10KCJpbnB1dFtuYW1lPSIrbisiXVtjbGFzcz1pdGVtLWlucHV0XSIpO2Uub24oImlucHV0IixmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7aS52YWwoZS52YWwoKSl9KSxpLmNoYW5nZShmdW5jdGlvbigpe3ZhciBuPXQodGhpcyk7ZS52YWwobi52YWwoKSl9KX0pfSxpdGVtRHJhZ2dhYmxlTGlzdDpmdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPSc8ZGl2IGNsYXNzPSJpdGVtLWRyYWdnYWJsZS1oYW5kbGUiPjxkaXYgY2xhc3M9Iml0ZW0tZHJhZ2dhYmxlLWhhbmRsZS1iYXIiPjwvZGl2PjxkaXYgY2xhc3M9Iml0ZW0tZHJhZ2dhYmxlLWhhbmRsZS1iYXIiPjwvZGl2PjxkaXYgY2xhc3M9Iml0ZW0tZHJhZ2dhYmxlLWhhbmRsZS1iYXIiPjwvZGl2PjwvZGl2Pic7dCh0aGlzKS5jaGlsZHJlbigibGFiZWwiKS5hcHBlbmQobiksZS5jcmVhdGUodGhpcyx7aGFuZGxlOiIuaXRlbS1kcmFnZ2FibGUtaGFuZGxlIn0pfSl9LGl0ZW1EeW5hbWljTGlzdDpmdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7ZS5jaGlsZHJlbigibGFiZWwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCgnPGRpdiBjbGFzcz0iZGVsZXRlLWl0ZW0iPjwvZGl2PicpO2UuY2xpY2soZnVuY3Rpb24oKXt0KHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpfSksdCh0aGlzKS5hcHBlbmQoZSl9KTt2YXIgbj10KCc8ZGl2IGNsYXNzPSJpdGVtIGFkZC1pdGVtIj5BZGQgb25lIG1vcmUuLi48L2Rpdj4nKTtlLmFwcGVuZChuKSxuLmNsaWNrKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlLG4pe3ZhciBpPWUudmFsKCk7bi50ZXh0KGkpO3ZhciBhPXQoJzxkaXYgY2xhc3M9ImRlbGV0ZS1pdGVtIj48L2Rpdj4nKTthLmNsaWNrKGZ1bmN0aW9uKCl7dCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKX0pLG4uYXBwZW5kKGEpfXZhciBpPXQoJzxkaXYgY2xhc3M9Iml0ZW0iPjxkaXYgY2xhc3M9Iml0ZW0taW5wdXQtd3JhcHBlciI%2BPGlucHV0IGNsYXNzPSJpdGVtLWlucHV0IiB0eXBlPSJ0ZXh0IiBuYW1lPSJmb2N1cy1ib3giPjwvZGl2PjwvZGl2PicpO2kuaW5zZXJ0QmVmb3JlKGUuY2hpbGRyZW4oKS5sYXN0KCkpO3ZhciBhPWkuZmluZCgiaW5wdXQiKTthLmZvY3VzKCksYS5rZXlwcmVzcyhmdW5jdGlvbih0KXt2YXIgZT10LndoaWNoOzEzPT09ZSYmbihhLGkpfSksYS5mb2N1c291dChmdW5jdGlvbigpe24oYSxpKX0pfSl9KX19KSx0KGZ1bmN0aW9uKCl7dCgiLml0ZW0tdG9nZ2xlIikuaXRlbVRvZ2dsZSgpLHQoIi5pdGVtLWNoZWNrYm94IikuaXRlbUNoZWNrYm94KCksdCgiLml0ZW0tc2VsZWN0IikuaXRlbVNlbGVjdCgpLHQoIi5pdGVtLWRhdGUiKS5pdGVtRGF0ZSgpLHQoIi5pdGVtLXRpbWUiKS5pdGVtVGltZSgpLHQoIi5pdGVtLXJhZGlvIikuaXRlbVJhZGlvKCksdCgiLml0ZW0tY29sb3Itbm9ybWFsIikuaXRlbUNvbG9yKHtzdW5ueTohMX0pLHQoIi5pdGVtLWNvbG9yLXN1bm55IikuaXRlbUNvbG9yKHtzdW5ueTohMH0pLHQoIi50YWItYnV0dG9uIikudGFiKCksdCgiLml0ZW0tc2xpZGVyIikuaXRlbVNsaWRlcigpLHQoIi5pdGVtLWRyYWdnYWJsZS1saXN0IikuaXRlbURyYWdnYWJsZUxpc3QoKSx0KCIuaXRlbS1keW5hbWljLWxpc3QiKS5pdGVtRHluYW1pY0xpc3QoKX0pfShaZXB0byxTb3J0YWJsZSk7Cjwvc2NyaXB0PgogICAgPHNjcmlwdD4KJ3VzZSBzdHJpY3QnOwoKdmFyIGhhc2hEYXRhOyB0cnkgewogIGhhc2hEYXRhID0gSlNPTi5wYXJzZSgnJCREQVRBJCQnIHx8IHt9KTsKfSBjYXRjaCAoZSkgewogIGhhc2hEYXRhID0ge307Cn0KdmFyIHNldHRpbmdzID0gewogIHByZXNldDogaGFzaERhdGEucHJlc2V0IHx8ICdwcmVzZXQtMCcsCiAgY29sb3JCYWNrZ3JvdW5kOiBoYXNoRGF0YS5jb2xvckJhY2tncm91bmQgfHwgJzB4MDAwMDAwJywKICBjb2xvckhvdXI6IGhhc2hEYXRhLmNvbG9ySG91ciB8fCAnMHhBQTAwMDAnLAogIGNvbG9yTWluTGVmdDogaGFzaERhdGEuY29sb3JNaW5MZWZ0IHx8ICcweEFBQUFBQScsCiAgY29sb3JNaW5SaWdodDogaGFzaERhdGEuY29sb3JNaW5SaWdodCB8fCAnMHhGRkZGRkYnCn07Cgp2YXIgcHJlc2V0cyA9IFsKICB7bmFtZTogJ1JlZCBUb2xlJywgdmFsOiAnMHgwMDAwMDAsMHhBQTAwMDAsMHhBQUFBQUEsMHhGRkZGRkYnfSwKICB7bmFtZTogJ09sZCBUaW1leScsIHZhbDogJzB4RkZGRkZGLDB4MDAwMDAwLDB4NTU1NTU1LDB4QUFBQUFBJ30KXTsKCmZ1bmN0aW9uIHNldENvbG9ycygpIHsKICAkKCcuaXRlbS1jb2xvcicpLmVhY2goZnVuY3Rpb24oKSB7CiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpOwogICAgdmFyIG5hbWUgPSAkdGhpcy5hdHRyKCduYW1lJyk7CgogICAgJHRoaXMudmFsKHNldHRpbmdzW25hbWVdKS50cmlnZ2VyKCdjaGFuZ2UnLCB0cnVlKTsKICB9KTsKfQoKZnVuY3Rpb24gdXBkYXRlRGlyZWN0SW5wdXQoKSB7CiAgJCgnI2RpcmVjdC1pbnB1dCcpLnZhbCgKICAgIChzZXR0aW5ncy5jb2xvckJhY2tncm91bmQgKyAnLCcgKwogICAgc2V0dGluZ3MuY29sb3JIb3VyICsgJywnICsKICAgIHNldHRpbmdzLmNvbG9yTWluTGVmdCArICcsJyArCiAgICBzZXR0aW5ncy5jb2xvck1pblJpZ2h0KS50b0xvd2VyQ2FzZSgpCiAgKTsKfQoKZnVuY3Rpb24gdXBkYXRlU2V0dGluZ3MoKSB7CiAgdmFyICR0aGlzID0gJCh0aGlzKTsKCiAgdmFyIGNvbG9yc0FyciA9ICR0aGlzLnZhbCgpLnNwbGl0KCcsJyk7CgogIGlmIChjb2xvcnNBcnIubGVuZ3RoID4gMSkgewogICAgc2V0dGluZ3MuY29sb3JCYWNrZ3JvdW5kID0gY29sb3JzQXJyWzBdOwogICAgc2V0dGluZ3MuY29sb3JIb3VyID0gY29sb3JzQXJyWzFdOwogICAgc2V0dGluZ3MuY29sb3JNaW5MZWZ0ID0gY29sb3JzQXJyWzJdOwogICAgc2V0dGluZ3MuY29sb3JNaW5SaWdodCA9IGNvbG9yc0FyclszXTsKICAgIHNldHRpbmdzLnByZXNldCA9CiAgICAgICR0aGlzLmZpbmQoJ29wdGlvbicpLm5vdChmdW5jdGlvbigpIHsgcmV0dXJuICF0aGlzLnNlbGVjdGVkOyB9KS5hdHRyKCdpZCcpOwoKICAgIHNldENvbG9ycygpOwogIH0gZWxzZSB7CiAgICBzZXR0aW5ncy5wcmVzZXQgPSAncHJlc2V0LWN1c3RvbSc7CiAgfQp9CgokKGZ1bmN0aW9uKCkgewogIC8vIEluaXRpYWxpemUgVGhpbmdzCiAgdmFyICRwcmVzZXRTZWxlY3QgPSAkKCcjcHJlc2V0LWN1c3RvbScpOwogIHByZXNldHMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkgewogICAgJHByZXNldFNlbGVjdC5iZWZvcmUoCiAgICAgICc8b3B0aW9uIGNsYXNzPSJpdGVtLXNlbGVjdC1vcHRpb24iICcgKwogICAgICAnaWQ9InByZXNldC0nICsgaW5kZXggKyAnIicgKwogICAgICAndmFsdWU9IicgKyBpdGVtLnZhbCArICciPicgKyBpdGVtLm5hbWUgKyAnPC9vcHRpb24%2BJwogICAgKTsKICB9KTsKICAkKCcjJyArIHNldHRpbmdzLnByZXNldCkucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsKICBzZXRDb2xvcnMoKTsKICB1cGRhdGVEaXJlY3RJbnB1dCgpOwoKICAvLyBldmVudCBsaXN0ZW5lcnMKCiAgJCgnW25hbWU9InByZXNldCJdJykuY2hhbmdlKHVwZGF0ZVNldHRpbmdzKTsKCiAgJCgnLml0ZW0tY29sb3InKS5jaGFuZ2UoZnVuY3Rpb24oZXZlbnQsIGtlZXBQcmVzZXQpIHsKICAgIHZhciAkdGhpcyA9ICQodGhpcyk7CiAgICB2YXIgbmFtZSA9ICR0aGlzLmF0dHIoJ25hbWUnKTsKCiAgICBzZXR0aW5nc1tuYW1lXSA9ICR0aGlzLnZhbCgpOwogICAgaWYgKCFrZWVwUHJlc2V0KSB7CiAgICAgICQoJyNwcmVzZXQtc2VsZWN0JykudmFsKCcnKS50cmlnZ2VyKCdjaGFuZ2UnKTsKICAgIH0KICAgIHVwZGF0ZURpcmVjdElucHV0KCk7CiAgfSk7CgogICQoJyNzYXZlLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgbG9jYXRpb24uaHJlZiA9ICdwZWJibGVqczovL2Nsb3NlIycgKwogICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpOwogIH0pOwoKICAkKCcjY2FuY2VsLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgbG9jYXRpb24uaHJlZiA9ICdwZWJibGVqczovL2Nsb3NlJzsKICB9KTsKCiAgJCgnI2RpcmVjdC1pbnB1dC1idG4nKS5jbGljayhmdW5jdGlvbigpIHsKICAgIHVwZGF0ZVNldHRpbmdzLmFwcGx5KCQoJyNkaXJlY3QtaW5wdXQnKSk7CiAgICBzZXR0aW5ncy5wcmVzZXQgPSAncHJlc2V0LWN1c3RvbSc7CiAgICAkKCcjcHJlc2V0LXNlbGVjdCcpLnZhbCgnJyk7CgogIH0pOwoKICAvLyBhbGwgY29tcGxldGUKICAkKCcuaXRlbS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnaGlkZScpOwp9KTsKCjwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo%3D'.replace('data:text/html;base64,', '');
  html = b64ToUtf8(html);
  html = html.replace('$$DATA$$', JSON.stringify(settings));
  Pebble.openURL('data:text/html;base64,' + utf8ToB64(html));
});

Pebble.addEventListener('webviewclosed', function(e) {
  // Decode and parse config data as JSON
  var settings = JSON.parse(decodeURIComponent(e.response));
  if (!settings) return;

  localStorage.setItem('settings', JSON.stringify(settings));

  // Send settings to Pebble watchapp
  Pebble.sendAppMessage({
    colorBackground: parseInt(settings.colorBackground, 16),
    colorHour: parseInt(settings.colorHour, 16),
    colorMinLeft: parseInt(settings.colorMinLeft, 16),
    colorMinRight: parseInt(settings.colorMinRight, 16)
  }, function(e) {
    console.log('Sent config data to Pebble');
  }, function() {
    console.log('Failed to send config data!');
    console.log(JSON.stringify(e));

  });

});
